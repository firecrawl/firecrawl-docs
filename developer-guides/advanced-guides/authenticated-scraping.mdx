---
title: "Authenticated Scraping"
description: "Learn how to scrape content behind authentication using cookies"
---

<Info>
This guide shows you how to scrape authenticated content using session cookies from your browser's DevTools. Perfect for internal tools, admin dashboards, and authorized systems where you have login credentials.
</Info>

## Overview

The recommended approach for authenticated scraping is **cookie-based authentication**, where you:
1. Login manually to your application
2. Extract the session cookie from DevTools
3. Use the cookie with Firecrawl to access protected pages

<Note>
**Cookie Expiration Times:**
- **Internal tools**: Often 7-30 days or longer
- **Public websites**: Usually 1-24 hours
- **Banking/sensitive sites**: 15-30 minutes

Internal tools typically have longer cookie lifespans, making this method ideal for recurring scraping tasks.
</Note>

---

## Setup

<Steps>
  <Step title="Get API Key">
    Get your Firecrawl API key from [firecrawl.dev/app](https://firecrawl.dev/app)
  </Step>

  <Step title="Install Dependencies">
    ```bash npm
    npm install @mendable/firecrawl-js
    ```

    <Note>
    **Node.js < v20**: If you're using Node.js version 19 or earlier, you'll also need to install `dotenv`:
    ```bash
    npm install dotenv
    ```
    And import it with `import 'dotenv/config'` at the top of your file.
    </Note>
  </Step>

  <Step title="Configure Environment">
    Create a `.env` file:
    ```bash .env
    FIRECRAWL_API_KEY=your_firecrawl_api_key
    ```
  </Step>
</Steps>

---

## Method 1: Cookie-Based Authentication

### Step 1: Extract Cookies from DevTools

<Note>
**Demo Application**: You can practice with our demo app at [https://firecrawl-auth.vercel.app](https://firecrawl-auth.vercel.app)
- Email: `test@example.com`
- Password: `password123`
</Note>

<Steps>
  <Step title="Login to Your Application">
    Navigate to [https://firecrawl-auth.vercel.app](https://firecrawl-auth.vercel.app) and login with the credentials above
  </Step>

  <Step title="Open DevTools">
    Press `F12` or right-click â†’ "Inspect"
  </Step>

  <Step title="Navigate to Application Tab">
    Click the **Application** tab (Chrome) or **Storage** tab (Firefox)
  </Step>

  <Step title="Find and Copy Cookie">
    1. Expand **Cookies** in the sidebar
    2. Click on your domain
    3. Find the `auth-token` cookie
    4. Double-click the **Value** and copy it

    <img src="/images/guides/dev-tools-cookie.png" alt="DevTools Cookies View" />
  </Step>
</Steps>

For the demo app, the cookie looks like:
```
auth-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJleGFtcGxlLXVzZXItaWQiLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20ifQ.example-signature-hash
```

<Warning>
**Important:** Cookies are sensitive credentials. Never share them publicly or commit them to version control. Treat them like passwords.
</Warning>

### Step 2: Use Cookies with Firecrawl

```typescript
import FirecrawlApp from "@mendable/firecrawl-js";

const app = new FirecrawlApp({
  apiKey: process.env.FIRECRAWL_API_KEY
});

const result = await app.scrape("https://firecrawl-auth.vercel.app/dashboard", {
  formats: ["markdown", "screenshot"],
  headers: {
    Cookie: 'auth-token=COOKIE_GOES_HERE'
  },
  waitFor: 3000 // Wait 3 seconds for the page to load
});

console.log("=== Markdown ===\n" + result.markdown + "\n\n=== Screenshot URL ===\n" + result.screenshot);
```

## Best Practices

<CardGroup cols={2}>
  <Card title="Cookie Security" icon="lock">
    - Store cookies in environment variables
    - Never commit cookies to git
    - Rotate cookies regularly
    - Use `.gitignore` for `.env` files
  </Card>

  <Card title="Cookie Expiration" icon="clock">
    - Check expiration times in DevTools
    - Set up alerts before expiration
    - Re-extract cookies when they expire
    - Consider using form-based auth for short-lived cookies
  </Card>

  <Card title="Rate Limiting" icon="gauge">
    - Respect the application's rate limits
    - Add delays between requests
    - Monitor for 429 (Too Many Requests) errors
    - Use exponential backoff for retries
  </Card>

  <Card title="Error Handling" icon="shield">
    - Check for 401/403 errors (expired cookies)
    - Validate response content
    - Log authentication failures
    - Have fallback authentication methods
  </Card>
</CardGroup>

---

## Troubleshooting

<AccordionGroup>
  <Accordion title="Getting 401 Unauthorized Errors" icon="ban">
    **Possible causes:**
    - Cookie has expired
    - Cookie was copied incorrectly
    - Application requires additional headers
    - Session was invalidated on the server

    **Solutions:**
    - Re-extract cookies from DevTools after a fresh login
    - Check if you need multiple cookies (session + CSRF token)
    - Verify the cookie domain matches your target URL
  </Accordion>

  <Accordion title="Cookie Not Working" icon="cookie-bite">
    **Check these:**
    - Is the cookie name correct?
    - Did you copy the entire cookie value?
    - Does the cookie have the correct domain?
    - Is there a `Path` restriction on the cookie?
    - Are there multiple cookies required?

    **Pro tip:** Copy all cookies from DevTools and test with all of them, then remove one by one to find which are required.
  </Accordion>

  <Accordion title="Session Expires Too Quickly" icon="hourglass">
    **For short-lived sessions:**
    - Use form-based authentication instead
    - Automate the login process with actions
    - Set up a cron job to refresh cookies
    - Consider requesting longer session times from your internal tool's admin
  </Accordion>
</AccordionGroup>


<Note>
**Cookie Lifespan for Internal Tools:** Many internal tools set cookies with 7-30 day expiration times, making them ideal for recurring scraping tasks. Check your cookie's `Expires` field in DevTools to see how long it's valid.
</Note>