```bash cURL
# 先使用默认代理进行尝试
RESPONSE=$(curl -s -X POST https://api.firecrawl.dev/v1/scrape \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer <YOUR_API_KEY>' \
    -d '{
      "url": "https://example.com"
    }')

# 从响应中提取状态码
STATUS_CODE=$(echo $RESPONSE | jq -r '.data.metadata.statusCode')

# 检查状态码是否需要使用隐身代理重试
if [[ "$STATUS_CODE" == "401" || "$STATUS_CODE" == "403" || "$STATUS_CODE" == "500" ]]; then
    echo "收到状态码 $STATUS_CODE，改用隐身代理重试"
    
    # 使用隐身代理重试
    curl -X POST https://api.firecrawl.dev/v1/scrape \
        -H 'Content-Type: application/json' \
        -H 'Authorization: Bearer <YOUR_API_KEY>' \
        -d '{
          "url": "https://example.com",
          "proxy": "stealth"
        }'
else
    # 输出原始响应
    echo $RESPONSE
fi
```
