```python Python
# 使用 pip 安装 firecrawl-py

from firecrawl import FirecrawlApp

app = FirecrawlApp(api_key="YOUR_API_KEY")

# 先尝试使用 basic 代理
try:
    content = app.scrape_url("https://example.com")
    
    # 检查是否返回错误状态码
    status_code = content.get("metadata", {}).get("statusCode")
    if status_code in [401, 403, 500]:
        print(f"收到状态码 {status_code}，改用 enhanced 代理重试")
        # 改用 enhanced 代理重试
        content = app.scrape_url("https://example.com", proxy="enhanced")
    
    print(content["markdown"])
except Exception as e:
    print(f"错误：{e}")
    # 捕获异常后使用 enhanced 代理重试
    try:
        content = app.scrape_url("https://example.com", proxy="enhanced")
        print(content["markdown"])
    except Exception as e:
        print(f"enhanced 代理仍失败：{e}")
```
