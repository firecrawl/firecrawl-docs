```python Python
# pip install firecrawl-py

from firecrawl import FirecrawlApp

app = FirecrawlApp(api_key="YOUR_API_KEY")

# Première tentative avec un proxy basic
try:
    content = app.scrape_url("https://example.com")
    
    # Vérifier si un code d’erreur a été reçu
    status_code = content.get("metadata", {}).get("statusCode")
    if status_code in [401, 403, 500]:
        print(f"Code de statut {status_code} reçu, nouvel essai avec le proxy enhanced")
        # Réessayer avec le proxy enhanced
        content = app.scrape_url("https://example.com", proxy="enhanced")
    
    print(content["markdown"])
except Exception as e:
    print(f"Erreur : {e}")
    # Réessayer avec le proxy enhanced en cas d’exception
    try:
        content = app.scrape_url("https://example.com", proxy="enhanced")
        print(content["markdown"])
    except Exception as e:
        print(f"Le proxy enhanced a également échoué : {e}")
```
