---
title: "変更トラッキング（ベータ）"
description: "Firecrawl は現在のページと過去のバージョンの差分を追跡し、更新の有無をお知らせします"
og:title: "変更トラッキング（ベータ） | Firecrawl"
icon: "code-changeTracking"
og:description: "Firecrawl は現在のページと過去のバージョンの差分を追跡し、更新の有無をお知らせします"
---

<div id="this-document-is-outdated">
  # このドキュメントは古くなっています
</div>

最新のバージョンはこちら: [changeTracking](/ja/features/change-tracking)

***

<div id="old-version">
  # 旧バージョン
</div>

新しい `changeTracking` フォーマットを使用すると、ウェブサイトの変更を監視できます。

`changeTracking` フォーマットは、レスポンスに以下のフィールドを返します:

* `previousScrapeAt`: 現在のページが比較対象としている前回スクレイプのタイムスタンプ（前回がない場合は `null`）。
* `changeStatus`: 2つのページバージョンの比較結果
  * `new`: このページは存在しなかった、またはこれまで検出されていませんでした（通常は `previousScrapeAt` が `null`）。
  * `same`: このページのコンテンツは前回のスクレイプ以降、変更されていません。
  * `changed`: このページのコンテンツは前回のスクレイプ以降、変更されています。
  * `removed`: このページは前回のスクレイプ以降、削除されました。
* `visibility`: 現在のページ/URL の可視性。
  * `visible`: このページは可視です。つまり、そのURLは自然な経路（他の可視ページ上のリンクやサイトマップ）から発見されました。
  * `hidden`: このページは不可視です。つまり、そのURLは同一URLの過去のクロールの記憶から発見されました。

知っておくと良いポイント:

* スクレイプは常に `markdown` レスポンスで比較されます。
  * `changeTracking` フォーマットを使用する場合、`markdown` フォーマットも指定する必要があります。必要に応じて他のフォーマットも併せて指定できます。
  * 比較アルゴリズムは空白やコンテンツ順序の変化に強い耐性があります。Captcha/アンチボット対策によるランダム化URLへの耐性のため、現在は iframe のソースURLを無視します。
* 比較対象となる過去のスクレイプは、現時点ではソースURL、チームID、および `markdown` フォーマットのみで照合され、その他のスクレイプ/クロールオプションは考慮されません。
  * 効果的な比較のためには、同一コンテンツに対する入力URLは前回のリクエストと完全に同一である必要があります。これは現在、回避に取り組んでいる制約です。
  * 同一URLを `includePaths`/`excludePaths` を変えてクロールすると、`changeTracking` 使用時に不整合が生じます。
  * 同一URLを `includeTags`/`excludeTags`/`onlyMainContent` を変えてスクレイプすると、`changeTracking` 使用時に不整合が生じます。
  * 比較は、`changeTracking` を含まない `markdown` のみの過去スクレイプとも行われます。
  * 比較はあなたのチーム内にスコープされます。あなたのAPIキーでそのURLを初めてスクレイプする場合、他の Firecrawl ユーザーが以前にスクレイプしていても、その `changeStatus` は常に `new` になります。
* Beta 期間中は、結果ドキュメントの `warning` フィールドを監視し、レスポンスから `changeTracking` オブジェクトが欠落している可能性を考慮してください。私たちはこれが極力発生しないようシステムを監視します。
  * これは、比較対象の過去スクレイプを見つけるためのデータベース検索がタイムアウトした場合に発生する可能性があります。この状況を監視し、機能の正式リリース前に改善・最適化を進めます。
* 現在、実際に変更されたページコンテンツの差分は返していません。
  * 最適なフォーマットが何かは未確定です。差分が必要で、望むフォーマットが明確な場合は、[mogery@firecrawl.com](mailto:mogery@firecrawl.com) までご連絡ください。追加します！

<div id="examples">
  ## 例
</div>

<div id="scrape">
  ### Scrape（スクレイプ）
</div>

```json
{
    "url": "https://firecrawl.dev",
    "formats": ["markdown", "changeTracking"]
}
```

```json
{
  "success": true,
  "data": {
    "markdown": "...",
    "metadata": {...},
    "changeTracking": {
      "previousScrapeAt": "2025-03-30T15:07:17.543071+00:00",
      "changeStatus": "同じ",
      "visibility": "表示中"
    }
  }
}
```

<div id="crawl">
  ### クロール
</div>

```json
{
    "url": "https://firecrawl.dev",
    "scrapeOptions": {
        "formats": ["markdown", "changeTracking"]
    }
}
```
