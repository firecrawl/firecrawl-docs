---
title: "抽出"
description: "LLMを使ってページから構造化データを抽出する"
og:title: "抽出 | Firecrawl"
og:description: "LLMを使ってページから構造化データを抽出する"
icon: "barcode-read"
sidebarTitle: "抽出"
---

import ExtractCURL from "/snippets/ja/v1/extract/base/curl.mdx";
import ExtractPython from "/snippets/ja/v1/extract/base/python.mdx";
import ExtractNode from "/snippets/ja/v1/extract/base/js.mdx";
import ExtractOutput from "/snippets/ja/v1/extract/base/output.mdx";
import ExtractNoSchemaCURL from "/snippets/ja/v1/extract/no-schema/curl.mdx";
import ExtractNoSchemaPython from "/snippets/ja/v1/extract/no-schema/python.mdx";
import ExtractNoSchemaJS from "/snippets/ja/v1/extract/no-schema/js.mdx";
import ExtractNoSchemaOutput from "/snippets/ja/v1/extract/no-schema/output.mdx";
import ExtractWebSearchPython from "/snippets/ja/v1/extract/websearch/python.mdx";
import ExtractWebSearchJS from "/snippets/ja/v1/extract/websearch/js.mdx";
import ExtractWebSearchCURL from "/snippets/ja/v1/extract/websearch/curl.mdx";
import ExtractWebSearchOutput from "/snippets/ja/v1/extract/websearch/output.mdx";
import CheckExtractJobCURL from "/snippets/ja/v1/extract/status/curl.mdx";
import CheckExtractJobJS from "/snippets/ja/v1/extract/status/js.mdx";
import CheckExtractJobPython from "/snippets/ja/v1/extract/status/python.mdx";
import ExtractStatusPending from "/snippets/ja/v1/extract/status/pending.mdx";
import ExtractStatusAsync from "/snippets/ja/v1/extract/async-response/async.mdx";
import ExtractStatusDone from "/snippets/ja/v1/extract/status/completed.mdx";
import ExtractWithoutURLsPython from "/snippets/ja/v1/extract/without-urls/python.mdx";
import ExtractWithoutURLsJS from "/snippets/ja/v1/extract/without-urls/js.mdx";
import ExtractWithoutURLsCURL from "/snippets/ja/v1/extract/base/curl.mdx";

`/extract` エンドポイントは、複数の URL やドメイン全体から構造化データを収集する作業を簡略化します。ワイルドカード（例: `example.com/*`）を含められる URL リストと、取得したい情報を記述したプロンプトまたはスキーマを指定してください。Firecrawl がクロール、解析、集約の処理を担い、小規模から大規模までのデータセットに対応します。

<Info>課金を簡素化し、Extract も他のエンドポイントと同様にクレジット制になりました。1 クレジットは 15 トークンに相当します。</Info>


<div id="using-extract">
  ## `/extract` の使用
</div>

ワイルドカードを含め、1つまたは複数のURLから構造化データを抽出できます:

- **単一ページ**  
  例: `https://firecrawl.dev/some-page`
- **複数ページ / ドメイン全体**  
  例: `https://firecrawl.dev/*`

`/*` を使用すると、Firecrawl はそのドメインで検出可能なすべてのURLを自動でクロールして解析し、要求されたデータを抽出します。この機能は実験的です。問題がある場合は [help@firecrawl.com](mailto:help@firecrawl.com) までご連絡ください。

<div id="example-usage">
  ### 使用例
</div>

<CodeGroup>

<ExtractPython />
<ExtractNode />
<ExtractCURL />

</CodeGroup>

**主要パラメータ:**

- **urls**: 1つ以上のURLを含む配列。広範なクロールのためにワイルドカード（`/*`）に対応。
- **prompt**（`schema`がない場合は必須）: 取得したいデータ、またはそのデータの構造化方法を自然言語で記述するプロンプト。
- **schema**（`prompt`がない場合は必須）: JSONのレイアウトが既に分かっている場合に用いる、より厳密な構造定義。
- **enableWebSearch**（オプション）: `true` の場合、指定ドメイン外のリンクもたどって抽出を実行。

詳細は [API Reference](https://docs.firecrawl.dev/api-reference/endpoint/extract) を参照してください。

<div id="response-sdks">
  ### レスポンス（SDK）
</div>

<ExtractOutput />

<div id="asynchronous-extraction-status-checking">
  ## 非同期抽出とステータス確認
</div>

抽出ジョブを送信すると（API経由、またはSDKの非同期メソッド経由のいずれでも）、Job ID を受け取ります。このIDで次のことができます:

- ジョブのステータス確認: /extract/{ID} エンドポイントにリクエストを送り、ジョブが実行中か完了しているかを確認します。
- 自動ポーリング（SDKのデフォルト動作）: デフォルトの extract メソッド（Python/Node）を使用すると、SDKがこのエンドポイントを自動的にポーリングし、ジョブ完了後に最終結果を返します。
- 手動ポーリング（非同期SDKメソッド）: 非同期メソッド（Pythonの async_extract、Node の asyncExtract）を使用すると、SDKは追跡用の Job ID を即時に返します。get_extract_status（Python）または getExtractStatus（Node）で、任意のタイミングでジョブの進行状況を確認します。

<Note>
  このエンドポイントは、進行中または直近24時間以内に完了したジョブにのみ有効です。
</Note>

以下は、Python、Node.js、cURL で抽出ジョブのステータスを確認するコード例です:

<CodeGroup>

<CheckExtractJobPython />
<CheckExtractJobJS />
<CheckExtractJobCURL />

</CodeGroup>

<div id="possible-states">
  ### 可能なステータス
</div>

- **completed**: 抽出が正常に完了しました。
- **processing**: Firecrawl がリクエストを処理中です。
- **failed**: エラーが発生し、データを完全に抽出できませんでした。
- **cancelled**: ユーザーによりジョブがキャンセルされました。

<div id="pending-example">
  #### 保留中のサンプル
</div>

<ExtractStatusPending />

<div id="completed-example">
  #### 完了例
</div>

<ExtractStatusDone />

<div id="extracting-without-a-schema">
  ## スキーマなしでの抽出
</div>

厳密な構造を定義したくない場合は、`prompt` を指定するだけで問題ありません。基盤モデルが適切な構造を自動で選択するため、より探索的または柔軟なリクエストに適しています。

<CodeGroup>

<ExtractNoSchemaPython />
<ExtractNoSchemaJS />
<ExtractNoSchemaCURL />

</CodeGroup>

<ExtractNoSchemaOutput />

<div id="improving-results-with-web-search">
  ## ウェブ検索で結果を向上させる
</div>

リクエストで `enableWebSearch = true` を設定すると、指定したURLセットを越えてクロール範囲が広がります。これにより、リンク先ページから補助的・関連する情報も取得できます。

以下は、ドライブレコーダー（ダッシュカム）に関する情報を抽出し、関連ページのデータで結果をリッチ化する例です:

<CodeGroup>

<ExtractWebSearchPython />
<ExtractWebSearchJS />
<ExtractWebSearchCURL />

</CodeGroup>

<div id="example-response-with-web-search">
  ### ウェブ検索を用いたレスポンス例
</div>

<ExtractWebSearchOutput />

このレスポンスには、関連ページから収集した追加のコンテキストが含まれており、より網羅的で正確な情報を提供します。

<div id="extracting-without-urls">
  ## URLなしでの抽出
</div>

`/extract` エンドポイントは、特定のURLを指定せずに、プロンプトを使って構造化データを抽出できるようになりました。これは、リサーチ用途や正確なURLが分からない場合に便利です。現在はアルファ版です。

<CodeGroup>

<ExtractWithoutURLsPython />
<ExtractWithoutURLsJS />
<ExtractWithoutURLsCURL />

</CodeGroup>

<div id="known-limitations-beta">
  ## 既知の制限事項（ベータ）
</div>

1. **大規模サイトのカバー範囲**  
   単一リクエストで巨大サイト（例：「Amazonの全商品」）を完全に網羅することは、現時点では未対応です。

2. **複雑な論理クエリ**  
   「2025年の投稿をすべて見つける」などのリクエストは、期待されるデータを確実にすべて返せない場合があります。より高度なクエリ機能を開発中です。

3. **結果の不一致が発生する場合**  
   特に非常に大規模または動的なサイトでは、実行ごとに結果が異なることがあります。通常は主要な情報は取得できますが、多少のばらつきは生じ得ます。

4. **ベータ版であること**  
   `/extract` はベータ版のため、機能やパフォーマンスは今後も進化します。改善に向けて、バグ報告やフィードバックを歓迎します。

<div id="using-fire-1">
  ## FIRE-1 の使用
</div>

FIRE-1 は Firecrawl のスクレイピング機能を強化する AI エージェントです。ブラウザのアクションを制御し、複雑なサイト構造を自律的に移動して、従来のスクレイピングを超える包括的なデータ抽出を可能にします。

複数ページにわたる遷移や要素との対話が必要な複雑な抽出タスクには、`/v1/extract` エンドポイントで FIRE-1 エージェントを活用できます。

**例（cURL）:**

```bash
curl -X POST https://api.firecrawl.dev/v1/extract \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer YOUR_API_KEY' \
    -d '{
      "urls": ["https://example-forum.com/topic/123"],
      "prompt": "このフォーラムスレッドから全ユーザーのコメントを抽出してください。",
      "schema": {
        "type": "object",
        "properties": {
          "comments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "author": {"type": "string"},
                "comment_text": {"type": "string"}
              },
              "required": ["author", "comment_text"]
            }
          }
        },
        "required": ["comments"]
      },
      "agent": {
        "model": "FIRE-1"
      }
    }'
```

> FIRE-1 はすでに稼働しており、プレビュー版として利用可能です。

<div id="billing-and-usage-tracking">
  ## 請求と利用状況の追跡
</div>

請求を簡素化し、Extract でも他のエンドポイントと同様にクレジット制を採用しました。1 クレジットは 15 トークンに相当します。

[ダッシュボード](https://www.firecrawl.dev/app/extract)で Extract の利用状況を確認できます。

ご意見やサポートが必要な場合は、[help@firecrawl.com](mailto:help@firecrawl.com) までメールでお問い合わせください。