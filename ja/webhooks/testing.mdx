---
title: 'テスト'
description: 'Webhook のテストとデバッグ'
og:title: 'Webhook のテスト | Firecrawl'
og:description: 'Webhook のテストとデバッグ'
icon: 'bug'
---

<div id="local-development">
  ## ローカル開発
</div>

Webhook はインターネット経由であなたのサーバーに到達する必要があるため、ローカルの開発サーバーを公開する必要があります。

<div id="using-cloudflare-tunnels">
  ### Cloudflare Tunnels の利用
</div>

[Cloudflare Tunnels](https://github.com/cloudflare/cloudflared/releases) は、ファイアウォールのポートを開放することなくローカルサーバーを公開できる無料の手段です。

```bash
cloudflared tunnel --url localhost:3000
```

`https://abc123.trycloudflare.com` のような公開 URL が発行されます。この URL を Webhook の設定で使用してください：

```json
{
  "url": "https://abc123.trycloudflare.com/webhook"
}
```


<div id="troubleshooting">
  ## トラブルシューティング
</div>

<div id="webhooks-not-arriving">
  ### Webhook が届かない
</div>

- **エンドポイントにアクセスできない** - サーバーがインターネットから到達可能であり、ファイアウォールが受信接続を許可していることを確認してください
- **HTTP を使用している** - Webhook の URL は HTTPS を使用する必要があります
- **イベントが間違っている** - Webhook 設定の `events` フィルターを確認してください

<div id="signature-verification-failing">
  ### 署名検証が失敗する
</div>

最もよくある原因は、生のリクエストボディではなく、パース済みの JSON ボディを使用していることです。

```javascript
// ❌ 誤り - 解析後のボディを使用している
const signature = crypto
  .createHmac('sha256', secret)
  .update(JSON.stringify(req.body))
  .digest('hex');

// ✅ 正解 - 生のボディを使用する
app.use('/webhook', express.raw({ type: 'application/json' }));
app.post('/webhook', (req, res) => {
  const signature = crypto
    .createHmac('sha256', secret)
    .update(req.body) // 生のバッファ
    .digest('hex');
});
```


<div id="other-issues">
  ### その他の問題
</div>

- **シークレットが誤っている** - [アカウント設定](https://www.firecrawl.dev/app/settings?tab=advanced) から取得した正しいシークレットを使用していることを確認してください
- **タイムアウトエラー** - エンドポイントが 10 秒以内に応答するようにしてください