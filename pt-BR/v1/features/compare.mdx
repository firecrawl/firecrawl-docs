---
title: 'Rastreamento de mudanças (Beta)'
description: 'O Firecrawl pode rastrear mudanças entre a página atual e uma versão anterior e informar se ela foi atualizada ou não'
og:title: "Rastreamento de mudanças (Beta) | Firecrawl"
icon: "code-changeTracking"
og:description: "O Firecrawl pode rastrear mudanças entre a página atual e uma versão anterior e informar se ela foi atualizada ou não"
---

<div id="this-document-is-outdated">
  # Este documento está desatualizado
</div>

Confira a versão atual: [Rastreio de Mudanças](/pt-BR/features/change-tracking)

***

<div id="old-version">
  # Versão antiga
</div>

Usando o novo formato `changeTracking`, você pode monitorar alterações em um site.

O formato `changeTracking` retorna os seguintes campos na resposta:

* `previousScrapeAt`: O timestamp da raspagem anterior contra a qual a página atual está sendo comparada. (`null` se não houver raspagem anterior)
* `changeStatus`: O resultado da comparação entre as duas versões da página
  * `new`: Esta página não existia ou não havia sido descoberta antes. (geralmente tem `previousScrapeAt` como `null`)
  * `same`: O conteúdo desta página não mudou desde a última raspagem.
  * `changed`: O conteúdo desta página mudou desde a última raspagem.
  * `removed`: Esta página foi removida desde a última raspagem.
* `visibility`: A visibilidade da página/URL atual.
  * `visible`: Esta página é visível, ou seja, sua URL foi descoberta por uma rota orgânica (por links em outras páginas visíveis ou pelo sitemap).
  * `hidden`: Esta página não é visível, ou seja, sua URL foi descoberta a partir da memória de rastreamentos anteriores da mesma URL.

Algumas informações úteis:

* As raspagens são sempre comparadas com base na resposta em markdown.
  * O formato `markdown` também deve ser especificado ao usar o formato `changeTracking`. Outros formatos podem ser especificados adicionalmente.
  * O algoritmo de comparação é resistente a mudanças em espaços em branco e na ordem do conteúdo. URLs de origem de iframes são atualmente ignoradas para resistir a captchas e antibots com URLs randomizadas.
* As raspagens anteriores usadas para comparação são atualmente associadas apenas pela URL de origem, pelo ID da equipe e pelo formato `markdown`, e não por quaisquer outras opções de raspagem ou rastreamento.
  * Para uma comparação efetiva, a URL de entrada deve ser exatamente a mesma da solicitação anterior para o mesmo conteúdo. Esta é uma limitação que estamos trabalhando ativamente para contornar.
  * Rastrear as mesmas URLs com `includePaths`/`excludePaths` diferentes pode gerar inconsistências ao usar `changeTracking`.
  * Raspar as mesmas URLs com `includeTags`/`excludeTags`/`onlyMainContent` diferentes pode gerar inconsistências ao usar `changeTracking`.
  * Páginas comparadas também serão confrontadas com raspagens anteriores que tenham apenas o formato `markdown`, sem o formato `changeTracking`.
  * As comparações são restritas à sua equipe. Se você raspar uma URL pela primeira vez com sua chave de API, seu `changeStatus` será sempre `new`, mesmo que outros usuários do Firecrawl já a tenham raspado antes.
* Enquanto em Beta, é recomendável monitorar o campo `warning` do documento resultante e lidar com a possível ausência do objeto `changeTracking` na resposta. Estaremos monitorando o sistema para garantir que isso ocorra o mínimo possível.
  * Isso pode ocorrer quando nossa consulta ao banco de dados para encontrar a raspagem anterior para comparação expira por timeout. Estaremos acompanhando essa situação e lançaremos melhorias e otimizações antes do lançamento oficial do recurso.
* Atualmente não retornamos um diff do conteúdo efetivamente alterado da página.
  * Ainda não sabemos qual seria o formato ideal para isso. Se você deseja o diff, provavelmente já sabe em qual formato quer recebê-lo. Entre em contato em [mogery@firecrawl.com](mailto:mogery@firecrawl.com), e nós acrescentaremos!

<div id="examples">
  ## Exemplos
</div>

<div id="scrape">
  ### Scrape
</div>

```json
{
    "url": "https://firecrawl.dev",
    "formats": ["markdown", "rastreioDeMudanças"]
}
```

```json
{
  "success": true,
  "data": {
    "markdown": "...",
    "metadata": {...},
    "changeTracking": {
      "previousScrapeAt": "2025-03-30T15:07:17.543071+00:00",
      "changeStatus": "same",
      "visibility": "visible"
    }
  }
}
```

<div id="crawl">
  ### Rastrear
</div>

```json
{
    "url": "https://firecrawl.dev",
    "scrapeOptions": {
        "formats": ["markdown", "rastreioDeMudanças"]
    }
}
```
