---
title: "Segurança"
description: "Verifique a autenticidade de webhooks e implemente as melhores práticas de segurança"
og:title: "Segurança de Webhooks | Firecrawl"
og:description: "Verifique a autenticidade de webhooks e implemente as melhores práticas de segurança"
icon: "shield-check"
---

import WebhookSignatureJS from '/snippets/pt-BR/v2/webhook-signature/js.mdx';
import WebhookSignaturePython from '/snippets/pt-BR/v2/webhook-signature/python.mdx';

A segurança de webhooks é essencial para garantir que as requisições ao seu endpoint estejam de fato vindo do Firecrawl e não tenham sido adulteradas. Esta página mostra como verificar a autenticidade de webhooks e implementar as melhores práticas de segurança.


<div id="why-webhook-security-matters">
  ## Por que a segurança de webhooks é importante
</div>

Sem a verificação adequada, invasores podem:

- Enviar requisições de webhook falsas para disparar ações indesejadas
- Modificar o payload para manipular sua aplicação
- Sobrecarregar seu endpoint de webhook com requisições

<div id="how-firecrawl-signs-webhooks">
  ## Como o Firecrawl assina webhooks
</div>

O Firecrawl assina cada solicitação de webhook usando HMAC-SHA256 com a chave secreta da sua conta. Isso gera uma assinatura exclusiva para cada solicitação que comprova:

1. Que a solicitação veio do Firecrawl
2. Que o conteúdo não foi alterado

<div id="finding-your-secret-key">
  ## Encontrar sua chave secreta
</div>

Seu segredo de webhook está disponível na [aba Advanced](https://www.firecrawl.dev/app/settings?tab=advanced) das configurações da sua conta. Cada conta tem um segredo exclusivo usado para assinar todas as solicitações de webhook.

<Warning>
  Mantenha seu segredo de webhook em segurança e nunca o exponha publicamente. Se você
  acreditar que seu segredo foi comprometido, gere um novo imediatamente nas
  configurações da sua conta.
</Warning>

<div id="signature-verification">
  ## Verificação de assinatura
</div>

<div id="how-signatures-work">
  ### Como as assinaturas funcionam
</div>

Cada requisição de webhook inclui um cabeçalho `X-Firecrawl-Signature` neste formato:

```
X-Firecrawl-Signature: sha256=abc123def456...
```

A assinatura é calculada da seguinte forma:

1. Use o corpo bruto da requisição (string JSON)
2. Gere um hash HMAC-SHA256 usando sua chave secreta
3. Converta para uma string hexadecimal
4. Adicione o prefixo `sha256=`


<div id="implementation-examples">
  ### Exemplos de implementação
</div>

<CodeGroup>

<WebhookSignatureJS />

<WebhookSignaturePython />

</CodeGroup>

<div id="step-by-step-verification">
  ### Verificação passo a passo
</div>

1. **Extraia a assinatura** do cabeçalho `X-Firecrawl-Signature`
2. **Obtenha o corpo bruto da requisição** exatamente como recebido (não faça parsing antes)
3. **Calcule o HMAC-SHA256** usando sua chave secreta e o corpo bruto
4. **Compare as assinaturas** usando uma função de comparação segura a timing (timing-safe)
5. **Só processe** o webhook se as assinaturas coincidirem

<div id="security-best-practices">
  ## Práticas recomendadas de segurança
</div>

<div id="always-validate-signatures">
  ### Sempre valide as assinaturas
</div>

Nunca confie em uma requisição de webhook sem verificar a assinatura:

```javascript
// ❌ RUIM - Sem verificação
app.post('/webhook', (req, res) => {
  processWebhook(req.body); // Perigoso!
  res.status(200).send('OK');
});

// ✅ BOM - Verificado primeiro
app.post('/webhook', (req, res) => {
  if (!verifySignature(req)) {
    return res.status(401).send('Não autorizado');
  }
  processWebhook(req.body);
  res.status(200).send('OK');
});
```


<div id="use-timing-safe-comparisons">
  ### Use comparações seguras em termos de tempo
</div>

Comparações padrão de strings podem revelar informações por tempo de execução. Use funções específicas:

- **Node.js**: `crypto.timingSafeEqual()`
- **Python**: `hmac.compare_digest()`
- **Outras linguagens**: Procure funções de comparação “constant-time” ou “timing-safe”

<div id="require-https">
  ### Exigir HTTPS
</div>

Sempre use endpoints HTTPS para webhooks:

```json
{
  "url": "https://your-app.com/webhook" // ✅ Seguro
}
```

```json
{
  "url": "http://your-app.com/webhook" // ❌ Não seguro
}
```
