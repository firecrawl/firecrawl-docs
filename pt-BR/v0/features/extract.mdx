---
title: 'Extração com LLM'
description: 'Extraia dados estruturados de páginas com LLMs'
icon: 'file-export'
og:title: "Extração | Firecrawl"
og:description: "Extraia dados estruturados de páginas com LLMs"
---

<div id="scrape-and-extract-structured-data-with-firecrawl">
  ## Raspagem e extração de dados estruturados com o Firecrawl
</div>

O Firecrawl utiliza Modelos de Linguagem (LLMs) para extrair dados estruturados de páginas da web com eficiência. Veja como:

1. **Definição de esquema:**
   Defina a URL a ser raspada e o esquema de dados desejado usando JSON Schema (seguindo o esquema de ferramentas da OpenAI). Esse esquema especifica a estrutura de dados que você espera extrair da página.

2. **Endpoint /scrape:**
   Envie a URL e o esquema para o endpoint /scrape. A documentação desse endpoint pode ser encontrada aqui:
   [Documentação do endpoint /scrape](https://docs.firecrawl.dev/api-reference/endpoint/scrape)

3. **Recuperação de dados estruturados:**
   Receba os dados extraídos no formato estruturado definido pelo seu esquema. Você pode então usar esses dados conforme necessário em sua aplicação ou para processamento adicional.

Esse método simplifica a extração de dados, reduz o manuseio manual e aumenta a eficiência.

<div id="extract-structured-data">
  ## Extraia dados estruturados
</div>

<div id="scrape-with-extract-endpoint">
  ### endpoint /scrape (com extract)
</div>

Usado para extrair dados estruturados de páginas coletadas.

```bash
curl -X POST https://api.firecrawl.dev/v0/scrape \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer YOUR_API_KEY' \
    -d '{
      "url": "https://docs.firecrawl.dev/",
      "extractorOptions": {
        "mode": "llm-extraction",
        "extractionPrompt": "Com base nas informações da página, extraia os dados conforme o schema. ",
        "extractionSchema": {
          "type": "object",
          "properties": {
            "company_mission": {
                      "type": "string"
            },
            "supports_sso": {
                      "type": "boolean"
            },
            "is_open_source": {
                      "type": "boolean"
            },
            "is_in_yc": {
                      "type": "boolean"
            }
          },
          "required": [
            "company_mission",
            "supports_sso",
            "is_open_source",
            "is_in_yc"
          ]
        }
      }
    }'
```

```json
{
    "success": true,
    "data": {
      "content": "Conteúdo bruto",
      "metadata": {
        "title": "Mendable",
        "description": "A Mendable permite criar aplicativos de chat com IA com facilidade. Ingestione, personalize e implante com uma única linha de código, onde quiser. Oferecido por SideGuide",
        "robots": "follow, index",
        "ogTitle": "Mendable",
        "ogDescription": "A Mendable permite criar aplicativos de chat com IA com facilidade. Ingestione, personalize e implante com uma única linha de código, onde quiser. Oferecido por SideGuide",
        "ogUrl": "https://docs.firecrawl.dev/",
        "ogImage": "https://docs.firecrawl.dev/mendable_new_og1.png",
        "ogLocaleAlternate": [],
        "ogSiteName": "Mendable",
        "sourceURL": "https://docs.firecrawl.dev/"
      },
      "llm_extraction": {
        "company_mission": "Treine uma IA segura com seus recursos técnicos para responder a perguntas de clientes e funcionários, para que sua equipe não precise fazê-lo",
        "supports_sso": true,
        "is_open_source": false,
        "is_in_yc": true
      }
    }
}

```


<div id="using-python-sdk">
  ### Usando o SDK Python
</div>

```python
from firecrawl import FirecrawlApp

# Inicialize o FirecrawlApp com sua chave de API
app = FirecrawlApp(api_key='your_api_key', version='v0')

class ArticleSchema(BaseModel):
    title: str
    points: int 
    by: str
    commentsURL: str

class TopArticlesSchema(BaseModel):
    top: List[ArticleSchema] = Field(..., max_items=5, description="Top 5 matérias")

data = app.scrape_url('https://news.ycombinator.com', {
    'extractorOptions': {
        'extractionSchema': TopArticlesSchema.model_json_schema(),
        'mode': 'llm-extraction'
    },
    'pageOptions':{
        'onlyMainContent': True
    }
})
print(data["llm_extraction"])
```


<div id="with-javascript-sdk">
  ### Com o SDK de JavaScript
</div>

```js
import FirecrawlApp from "@mendable/firecrawl-js";
import { z } from "zod";

const app = new FirecrawlApp({
  apiKey: "fc-YOUR_API_KEY",
  version: "v0"
});

// Defina o esquema para extrair o conteúdo
const schema = z.object({
  top: z
    .array(
      z.object({
        title: z.string(),
        points: z.number(),
        by: z.string(),
        commentsURL: z.string(),
      })
    )
    .length(5)
    .describe("Top 5 notícias no Hacker News"),
});

const scrapeResult = await app.scrapeUrl("https://news.ycombinator.com", {
  extractorOptions: { extractionSchema: schema },
});

console.log(scrapeResult.data["llm_extraction"]);
```


<div id="with-go-sdk">
  ### Com o SDK Go
</div>

```go Go
import (
  "fmt"
  "log"

  "github.com/mendableai/firecrawl-go"
)

func main() {
  app, err := firecrawl.NewFirecrawlApp("YOUR_API_KEY")
  if err != nil {
      log.Fatalf("Falha ao inicializar o FirecrawlApp: %v", err)
  }

  jsonSchema := map[string]any{
    "type": "object",
    "properties": map[string]any{
      "top": map[string]any{
        "type": "array",
        "items": map[string]any{
          "type": "object",
          "properties": map[string]any{
            "title":       map[string]string{"type": "string"},
            "points":      map[string]string{"type": "number"},
            "by":          map[string]string{"type": "string"},
            "commentsURL": map[string]string{"type": "string"},
          },
          "required": []string{"title", "points", "by", "commentsURL"},
        },
        "minItems":    5,
        "maxItems":    5,
        "description": "Top 5 matérias no Hacker News",
      },
    },
    "required": []string{"top"},
  }

  llmExtractionParams := map[string]any{
    "extractorOptions": firecrawl.ExtractorOptions{
      ExtractionSchema: jsonSchema,
    },
  }

  scrapeResult, err := app.ScrapeURL("https://news.ycombinator.com", llmExtractionParams)
  if err != nil {
    log.Fatalf("Falha ao executar a extração via LLM: %v", err)
  }
  fmt.Println(scrapeResult)
}
```


<div id="with-rust-sdk">
  ### Com o SDK Rust
</div>

```rust Rust
use firecrawl::FirecrawlApp;

#[tokio::main]
async fn main() {
    // Inicialize o FirecrawlApp com a chave da API
    let api_key = "YOUR_API_KEY";
    let api_url = "https://api.firecrawl.dev";
    let app = FirecrawlApp::new(api_key, api_url).expect("Falha ao inicializar o FirecrawlApp");

    // Defina o schema para extrair o conteúdo
    let json_schema = json!({
        "type": "object",
        "properties": {
            "top": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "title": {"type": "string"},
                        "points": {"type": "number"},
                        "by": {"type": "string"},
                        "commentsURL": {"type": "string"}
                    },
                    "required": ["title", "points", "by", "commentsURL"]
                },
                "minItems": 5,
                "maxItems": 5,
                "description": "Top 5 notícias no Hacker News"
            }
        },
        "required": ["top"]
    });

    let llm_extraction_params = json!({
        "extractorOptions": {
            "extractionSchema": json_schema,
            "mode": "llm-extraction"
        },
        "pageOptions": {
            "onlyMainContent": true
        }
    });

    let llm_extraction_result = app
        .scrape_url("https://news.ycombinator.com", Some(llm_extraction_params))
        .await;
    match llm_extraction_result {
        Ok(data) => println!("Resultado da extração com LLM:\n{}", data["llm_extraction"]),
        Err(e) => eprintln!("Falha na extração com LLM: {}", e),
    }
}
```
