---
title: 'Rust'
description: 'O SDK Rust do Firecrawl é uma biblioteca que ajuda você a fazer scraping e crawling de sites com facilidade e a gerar dados em um formato pronto para uso com modelos de linguagem (LLMs).'
icon: 'rust'
og:title: "Rust SDK | Firecrawl"
og:description: "O SDK Rust do Firecrawl é uma biblioteca que ajuda você a fazer scraping e crawling de sites com facilidade e a gerar dados em um formato pronto para uso com modelos de linguagem (LLMs)."
---

> Observação: isto usa a [versão v0 da API do Firecrawl](/pt-BR/v0/introduction), que está sendo descontinuada. Recomendamos migrar para a [v1](/pt-BR/sdks/rust).

<div id="installation">
  ## Instalação
</div>

Para instalar o SDK do Firecrawl para Rust, adicione o seguinte ao seu `Cargo.toml`:

```toml
[dependencies]
firecrawl = "^0.1"
tokio = { version = "^1", features = ["full"] }
serde = { version = "^1.0", features = ["derive"] }
serde_json = "^1.0"
uuid = { version = "^1.10", features = ["v4"] }

[build-dependencies]
tokio = { version = "1", features = ["full"] }
```

<div id="usage">
  ## Uso
</div>

1. Obtenha uma chave de API em [firecrawl.dev](https://firecrawl.dev)
2. Defina a chave de API como uma variável de ambiente chamada `FIRECRAWL_API_KEY` ou passe-a como parâmetro para a struct `FirecrawlApp`.

Veja um exemplo de como usar o SDK em Rust:

```rust
use firecrawl::FirecrawlApp;

#[tokio::main]
async fn main() {
  let api_key = "YOUR_API_KEY";
  let api_url = "https://api.firecrawl.dev";
  let app = FirecrawlApp::new(api_key, api_url).expect("Falha ao inicializar o FirecrawlApp")

  // Raspar uma única URL
  let scrape_result = app.scrape_url("https://docs.firecrawl.dev", None).await;
  match scrape_result {
    Ok(data) => println!("Dados coletados: {}", data),
    Err(e) => eprintln!("Erro ao raspar: {}", e),
  }
  // Rastear um site
  let crawl_params = json!({
    "pageOptions": {
      "onlyMainContent": true
    }
  });

  let crawl_result = app.crawl_url("https://docs.firecrawl.dev", Some(crawl_params)).await;
  
  match crawl_result {
    Ok(data) => println!("Resultado do rasteio: {}", data),
    Err(e) => eprintln!("Erro ao rastear: {}", e),
  }
}
```

<div id="scraping-a-url">
  ### Extraindo dados de uma URL
</div>

Para extrair o conteúdo de uma única URL com tratamento de erros, use o método `scrape_url`. Ele recebe a URL como parâmetro e retorna os dados extraídos como um `serde_json::Value`.

```rust
let scrape_result = app.scrape_url("https://docs.firecrawl.dev", None).await;

match scrape_result {
  Ok(data) => println!("Dados extraídos: {}", data),
  Err(e) => eprintln!("Falha ao extrair a URL: {}", e),
}
```

<div id="crawling-a-website">
  ### Rastreamento de um site
</div>

Para rastrear um site, use o método `crawl_url`. Ele recebe a URL inicial e parâmetros opcionais como argumentos. O argumento `params` permite especificar opções adicionais para a tarefa de rastreamento, como o número máximo de páginas a rastrear, domínios permitidos e o formato de saída.

```rust
let crawl_params = json!({
  "crawlerOptions": {
    "excludes": ["blog/"],
    "includes": [], // deixe em branco para incluir todas as páginas
    "limit": 1000
  },
  "pageOptions": {
    "onlyMainContent": true
  }
});
let crawl_result = app.crawl_url("https://docs.firecrawl.dev", Some(crawl_params)).await;

match crawl_result {
  Ok(data) => println!("Resultado do crawl: {}", data),
  Err(e) => eprintln!("Falha ao realizar o crawl da URL: {}", e),
}
```

<div id="checking-crawl-status">
  ### Verificando o status do crawl
</div>

Para verificar o status de um trabalho de crawl, use o método `check_crawl_status`. Ele recebe o ID do trabalho como parâmetro e retorna o status atual do trabalho de crawl.

```rust
let job_id = "seu_job_id_aqui";
let status = app.check_crawl_status(job_id).await;

match status {
  Ok(data) => println!("Status do crawl: {}", data),
  Err(e) => eprintln!("Falha ao verificar o status do crawl: {}", e),
}
```

<div id="canceling-a-crawl-job">
  ### Cancelando um trabalho de rastreamento
</div>

Para cancelar um trabalho de rastreamento, use o método `cancel_crawl_job`. Ele recebe o ID do trabalho como parâmetro e retorna o status do cancelamento do trabalho de rastreamento.

```rust
let job_id = "seu_job_id_aqui";
let canceled = app.cancel_crawl_job(job_id).await;

match canceled {
  Ok(status) => println!("Status do cancelamento: {}", status),
  Err(e) => eprintln!("Falha ao cancelar a tarefa de crawl: {}", e),
}
```

<div id="extracting-structured-data-from-a-url">
  ### Extraindo dados estruturados de uma URL
</div>

Com a extração via LLM, você pode extrair facilmente dados estruturados de qualquer URL. Veja como usar:

```rust
let json_schema = json!({
  "type": "object",
  "properties": {
    "top": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
        "title": {"type": "string"},
        "points": {"type": "number"},
        "by": {"type": "string"},
        "commentsURL": {"type": "string"}
      },
      "required": ["title", "points", "by", "commentsURL"]
      },
      "minItems": 5,
      "maxItems": 5,
      "description": "Top 5 matérias no Hacker News"
    }
  },
  "required": ["top"]
});

let llm_extraction_params = json!({
  "extractorOptions": {
    "extractionSchema": json_schema
  }
});

let scrape_result = app.scrape_url("https://news.ycombinator.com", Some(llm_extraction_params)).await;

match scrape_result {
  Ok(data) => println!("Resultado da extração por LLM: {}", data),
  Err(e) => eprintln!("Falha ao executar a extração por LLM: {}", e),
}
```

<div id="search-for-a-query">
  ### Buscar por uma consulta
</div>

Para pesquisar na web, obter os resultados mais relevantes, extrair cada página e retornar o conteúdo em Markdown, use o método `search`. O método recebe a consulta como parâmetro e retorna os resultados da pesquisa.

```rust
let query = "O que é o Firecrawl?";
let search_result = app.search(query).await;

match search_result {
  Ok(data) => println!("Resultado da busca: {}", data),
  Err(e) => eprintln!("Falha na busca: {}", e),
}
```

<div id="error-handling">
  ## Tratamento de erros
</div>

O SDK trata os erros retornados pela API do Firecrawl e lança as exceções apropriadas. Se ocorrer um erro durante uma solicitação, uma exceção será lançada com uma mensagem descritiva.