{
  "openapi": "3.0.0",
  "info": {
    "title": "Firecrawl API",
    "version": "v2",
    "description": "API pour interagir avec les services Firecrawl afin d’effectuer des tâches de scraping et de crawling web.",
    "contact": {
      "name": "Firecrawl Support",
      "url": "https://firecrawl.dev/support",
      "email": "support@firecrawl.dev"
    }
  },
  "servers": [
    {
      "url": "https://api.firecrawl.dev/v2"
    }
  ],
  "paths": {
    "/scrape": {
      "post": {
        "summary": "Récupérer le contenu d’une URL et éventuellement en extraire des informations à l’aide d’un LLM",
        "operationId": "scrapeAndExtractFromUrl",
        "tags": [
          "Scraping"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "type": "object",
                    "properties": {
                      "url": {
                        "type": "string",
                        "format": "uri",
                        "description": "L’URL à scraper"
                      }
                    },
                    "required": [
                      "url"
                    ]
                  },
                  {
                    "$ref": "#/components/schemas/ScrapeOptions"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "zeroDataRetention": {
                        "type": "boolean",
                        "default": false,
                        "description": "Si la valeur est true, cela activera la non-conservation totale des données pour ce scraping. Pour activer cette fonctionnalité, veuillez contacter help@firecrawl.dev"
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Réponse réussie",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScrapeResponse"
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Request rate limit exceeded. Please wait and try again later."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "UNKNOWN_ERROR"
                    },
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/batch/scrape": {
      "post": {
        "summary": "Scraper plusieurs URL et, au besoin, extraire des informations à l’aide d’un LLM",
        "operationId": "scrapeAndExtractFromUrls",
        "tags": [
          "Scraping"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "type": "object",
                    "properties": {
                      "urls": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "format": "uri",
                          "description": "L’URL à explorer"
                        }
                      },
                      "webhook": {
                        "type": "object",
                        "description": "Un objet de spécification de webhook.",
                        "properties": {
                          "url": {
                            "type": "string",
                            "description": "L’URL à laquelle envoyer le webhook. Celui-ci sera déclenché au démarrage du scraping par lot (batch_scrape.started), pour chaque page traitée (batch_scrape.page) et lorsque le scraping par lot est terminé (batch_scrape.completed ou batch_scrape.failed). La réponse sera la même que celle de l’endpoint `/scrape`."
                          },
                          "headers": {
                            "type": "object",
                            "description": "En-têtes à envoyer à l’URL du webhook.",
                            "additionalProperties": {
                              "type": "string"
                            }
                          },
                          "metadata": {
                            "type": "object",
                            "description": "Métadonnées personnalisées qui seront incluses dans le payload de tous les webhooks pour ce crawl",
                            "additionalProperties": true
                          },
                          "events": {
                            "type": "array",
                            "description": "Type d’événements à envoyer à l’URL du webhook. (par défaut : tous)",
                            "items": {
                              "type": "string",
                              "enum": [
                                "completed",
                                "page",
                                "failed",
                                "started"
                              ]
                            }
                          }
                        },
                        "required": [
                          "url"
                        ]
                      },
                      "maxConcurrency": {
                        "type": "integer",
                        "description": "Nombre maximal d’opérations de scraping simultanées. Ce paramètre vous permet de définir une limite du nombre de scrapes exécutés en parallèle pour ce lot. S’il n’est pas renseigné, ce lot de scraping utilisera la limite de parallélisme définie pour votre équipe."
                      },
                      "ignoreInvalidURLs": {
                        "type": "boolean",
                        "default": true,
                        "description": "Si des URL non valides sont spécifiées dans le tableau `urls`, elles seront ignorées. Au lieu de faire échouer l’ensemble de la requête, une opération de scraping par lot sera créée avec les URL valides restantes, et les URL non valides seront renvoyées dans le champ `invalidURLs` de la réponse."
                      }
                    },
                    "required": [
                      "urls"
                    ]
                  },
                  {
                    "$ref": "#/components/schemas/ScrapeOptions"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "zeroDataRetention": {
                        "type": "boolean",
                        "default": false,
                        "description": "Si cette option est définie sur true, cela activera l’absence totale de conservation des données pour cette opération de scraping par lot. Pour activer cette fonctionnalité, veuillez contacter help@firecrawl.dev"
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Réponse en cas de succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchScrapeResponseObj"
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes envoyées",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Request rate limit exceeded. Please wait and try again later."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/batch/scrape/{id}": {
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "description": "L’ID de la tâche de scraping par lots",
          "required": true,
          "schema": {
            "type": "string",
            "format": "uuid"
          }
        }
      ],
      "get": {
        "summary": "Obtenir l'état d'un job de scraping par lots",
        "operationId": "getBatchScrapeStatus",
        "tags": [
          "Scraping"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse en cas de succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchScrapeStatusResponseObj"
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Request rate limit exceeded. Please wait and try again later."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Annuler une tâche de scraping par lots",
        "operationId": "cancelBatchScrape",
        "tags": [
          "Scraping"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Annulation réussie",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Batch scrape job successfully cancelled."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Tâche de scraping par lots introuvable",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Batch scrape job not found."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/batch/scrape/{id}/errors": {
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "description": "L’ID du job de scraping par lots",
          "required": true,
          "schema": {
            "type": "string",
            "format": "uuid"
          }
        }
      ],
      "get": {
        "summary": "Obtenir les erreurs d’un job de scraping par lots",
        "operationId": "getBatchScrapeErrors",
        "tags": [
          "Scraping"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse en cas de succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrawlErrorsResponseObj"
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Request rate limit exceeded. Please wait and try again later."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/crawl/{id}": {
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "description": "L'ID de la tâche de crawl",
          "required": true,
          "schema": {
            "type": "string",
            "format": "uuid"
          }
        }
      ],
      "get": {
        "summary": "Obtenir le statut d’une tâche de crawl",
        "operationId": "getCrawlStatus",
        "tags": [
          "Crawling"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse réussie",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrawlStatusResponseObj"
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Request rate limit exceeded. Please wait and try again later."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Annuler une tâche de crawl",
        "operationId": "cancelCrawl",
        "tags": [
          "Crawling"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Annulation réussie",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": [
                        "cancelled"
                      ],
                      "example": "cancelled"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Tâche de crawl introuvable",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Crawl job not found."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/crawl/{id}/errors": {
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "description": "L’ID de la tâche de crawl",
          "required": true,
          "schema": {
            "type": "string",
            "format": "uuid"
          }
        }
      ],
      "get": {
        "summary": "Récupérer les erreurs d'une tâche de crawl",
        "operationId": "getCrawlErrors",
        "tags": [
          "Crawling"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse réussie",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrawlErrorsResponseObj"
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Request rate limit exceeded. Please wait and try again later."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/crawl": {
      "post": {
        "summary": "Explorer plusieurs URL selon les options",
        "operationId": "crawlUrls",
        "tags": [
          "Crawling"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "format": "uri",
                    "description": "L’URL de base à partir de laquelle lancer l’exploration"
                  },
                  "prompt": {
                    "type": "string",
                    "description": "Invite à utiliser pour générer les options du crawler (tous les paramètres ci-dessous) à partir d’un texte en langage naturel. Les paramètres définis explicitement auront la priorité sur les équivalents générés."
                  },
                  "excludePaths": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Motifs d’expressions régulières pour les chemins d’URL qui excluent du crawl les URL correspondantes. Par exemple, si vous définissez `\"excludePaths\": [\"blog/.*\"]` pour l’URL de base firecrawl.dev, tous les résultats correspondant à ce motif seront exclus, comme https://www.firecrawl.dev/blog/firecrawl-launch-week-1-recap."
                  },
                  "includePaths": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Motifs regex de chemins d’URL indiquant quelles URL inclure dans le crawl. Seuls les chemins correspondant aux motifs spécifiés seront inclus dans la réponse. Par exemple, si vous définissez `\"includePaths\": [\"blog/.*\"]` pour l’URL de base firecrawl.dev, seuls les résultats correspondant à ce motif seront inclus, comme https://www.firecrawl.dev/blog/firecrawl-launch-week-1-recap."
                  },
                  "maxDiscoveryDepth": {
                    "type": "integer",
                    "description": "Profondeur maximale d’exploration basée sur l’ordre de découverte. Le site racine et les pages issues du sitemap ont une profondeur de découverte de 0. Par exemple, si vous la définissez sur 1 et que vous définissez `sitemap: 'skip'`, vous n’explorerez que l’URL saisie ainsi que toutes les URL qui y sont liées depuis cette page."
                  },
                  "sitemap": {
                    "type": "string",
                    "enum": [
                      "skip",
                      "include",
                      "only"
                    ],
                    "description": "Mode sitemap lors du crawling. Si vous le définissez sur « skip », le crawler ignorera le sitemap du site et n’explorera que l’URL fournie, en découvrant ensuite les autres pages à partir de celle-ci. Si vous le définissez sur « only », le crawler n’explorera que les URL issues du sitemap (plus l’URL de départ) et n’explorera pas les liens trouvés dans le HTML.",
                    "default": "include"
                  },
                  "ignoreQueryParameters": {
                    "type": "boolean",
                    "description": "Ne relancez pas le scraping du même chemin avec des paramètres de requête différents (ou sans paramètres)",
                    "default": false
                  },
                  "regexOnFullURL": {
                    "type": "boolean",
                    "description": "Lorsque cette valeur est définie sur true, les expressions régulières includePaths et excludePaths sont appliquées à l’URL complète (y compris les paramètres de requête) plutôt qu’au seul chemin de l’URL. Utile si vous devez filtrer des URL en fonction des chaînes de requête.",
                    "default": false
                  },
                  "limit": {
                    "type": "integer",
                    "description": "Nombre maximal de pages à explorer. La limite par défaut est de 10 000.",
                    "default": 10000
                  },
                  "crawlEntireDomain": {
                    "type": "boolean",
                    "description": "Autorise le crawler à suivre les liens internes vers des URL de même niveau ou parentes, pas seulement les chemins enfants.\n\nfalse : Explore uniquement les URL plus profondes (enfants).\n→ p. ex. /features/feature-1 → /features/feature-1/tips ✅\n→ Ne suivra pas /pricing ou / ❌\n\ntrue : Explore tous les liens internes, y compris les URL de même niveau et parentes.\n→ p. ex. /features/feature-1 → /pricing, /, etc. ✅\n\nUtilisez true pour une couverture interne plus large au‑delà des chemins imbriqués.",
                    "default": false
                  },
                  "allowExternalLinks": {
                    "type": "boolean",
                    "description": "Permet au crawler de suivre des liens vers des sites Web externes.",
                    "default": false
                  },
                  "allowSubdomains": {
                    "type": "boolean",
                    "description": "Autorise le crawler à suivre les liens pointant vers les sous-domaines du domaine principal.",
                    "default": false
                  },
                  "delay": {
                    "type": "number",
                    "description": "Délai en secondes entre deux opérations de scraping. Cela permet de respecter les limites de fréquence imposées par les sites web."
                  },
                  "maxConcurrency": {
                    "type": "integer",
                    "description": "Nombre maximal d’opérations de scraping simultanées. Ce paramètre vous permet de définir une limite de parallélisme pour ce crawl. S’il n’est pas renseigné, le crawl utilise la limite de parallélisme définie pour votre équipe."
                  },
                  "webhook": {
                    "type": "object",
                    "description": "Objet de spécification de webhook.",
                    "properties": {
                      "url": {
                        "type": "string",
                        "description": "L’URL à laquelle envoyer le webhook. Il sera déclenché au démarrage du crawl (crawl.started), pour chaque page explorée (crawl.page) et lorsque le crawl est terminé (crawl.completed ou crawl.failed). La réponse sera identique à celle du point de terminaison `/scrape`."
                      },
                      "headers": {
                        "type": "object",
                        "description": "En-têtes à envoyer vers l’URL du webhook.",
                        "additionalProperties": {
                          "type": "string"
                        }
                      },
                      "metadata": {
                        "type": "object",
                        "description": "Métadonnées personnalisées qui seront incluses dans toutes les charges utiles des webhooks de ce crawl",
                        "additionalProperties": true
                      },
                      "events": {
                        "type": "array",
                        "description": "Type d’événements à envoyer à l’URL du webhook. (par défaut : tous)",
                        "items": {
                          "type": "string",
                          "enum": [
                            "completed",
                            "page",
                            "failed",
                            "started"
                          ]
                        }
                      }
                    },
                    "required": [
                      "url"
                    ]
                  },
                  "scrapeOptions": {
                    "$ref": "#/components/schemas/ScrapeOptions"
                  },
                  "zeroDataRetention": {
                    "type": "boolean",
                    "default": false,
                    "description": "Si cette valeur est définie sur true, aucune donnée ne sera conservée pour ce crawl (zéro conservation des données). Pour activer cette fonctionnalité, veuillez contacter help@firecrawl.dev"
                  }
                },
                "required": [
                  "url"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Réponse réussie",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrawlResponse"
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Request rate limit exceeded. Please wait and try again later."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/crawl/params-preview": {
      "post": {
        "summary": "Prévisualiser les paramètres de crawl générés à partir d'une invite en langage naturel",
        "operationId": "crawlParamsPreview",
        "tags": [
          "Crawling"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "format": "uri",
                    "description": "L’URL à explorer"
                  },
                  "prompt": {
                    "type": "string",
                    "maxLength": 10000,
                    "description": "Invite en langage naturel décrivant ce que vous souhaitez crawler"
                  }
                },
                "required": [
                  "url",
                  "prompt"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Réponse réussie contenant les paramètres de crawl générés",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "format": "uri",
                          "description": "L’URL à explorer"
                        },
                        "includePaths": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "Motifs d’URL à inclure"
                        },
                        "excludePaths": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "Motifs d’URL à exclure"
                        },
                        "maxDepth": {
                          "type": "integer",
                          "description": "Profondeur maximale de crawl"
                        },
                        "maxDiscoveryDepth": {
                          "type": "integer",
                          "description": "Profondeur maximale d’exploration"
                        },
                        "crawlEntireDomain": {
                          "type": "boolean",
                          "description": "Indique s’il faut explorer tout le domaine"
                        },
                        "allowExternalLinks": {
                          "type": "boolean",
                          "description": "Autoriser les liens externes"
                        },
                        "allowSubdomains": {
                          "type": "boolean",
                          "description": "Détermine s’il faut autoriser les sous-domaines"
                        },
                        "sitemap": {
                          "type": "string",
                          "enum": [
                            "skip",
                            "include"
                          ],
                          "description": "Stratégie de traitement du sitemap"
                        },
                        "ignoreQueryParameters": {
                          "type": "boolean",
                          "description": "Indique si les paramètres de requête doivent être ignorés"
                        },
                        "deduplicateSimilarURLs": {
                          "type": "boolean",
                          "description": "Détermine s’il faut dédupliquer les URL similaires"
                        },
                        "delay": {
                          "type": "number",
                          "description": "Intervalle entre les requêtes, en millisecondes"
                        },
                        "limit": {
                          "type": "integer",
                          "description": "Nombre maximal de pages à explorer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Requête incorrecte",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Invalid request parameters"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to process natural language prompt"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/map": {
      "post": {
        "summary": "Mapper plusieurs URL en fonction des options",
        "operationId": "mapUrls",
        "tags": [
          "Mapping"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "format": "uri",
                    "description": "L’URL de base à partir de laquelle démarrer le crawl"
                  },
                  "search": {
                    "type": "string",
                    "description": "Spécifiez une requête de recherche pour classer les résultats par pertinence. Exemple : « blog » renverra les URL qui contiennent le mot « blog » dans leur adresse, classées par pertinence."
                  },
                  "sitemap": {
                    "type": "string",
                    "enum": [
                      "skip",
                      "include",
                      "only"
                    ],
                    "description": "Mode sitemap lors du mapping. Si vous le réglez sur `skip`, le sitemap ne sera pas utilisé pour trouver des URL. Si vous le réglez sur `only`, seules les URL présentes dans le sitemap seront renvoyées. Par défaut (`include`), le sitemap et d’autres méthodes sont utilisés conjointement pour trouver des URL.",
                    "default": "include"
                  },
                  "includeSubdomains": {
                    "type": "boolean",
                    "description": "Inclure les sous-domaines du site",
                    "default": true
                  },
                  "ignoreQueryParameters": {
                    "type": "boolean",
                    "description": "Ne renvoyez pas d’URL contenant des paramètres de requête",
                    "default": true
                  },
                  "ignoreCache": {
                    "type": "boolean",
                    "description": "Ignorez le cache du sitemap pour récupérer les URL les plus récentes. Les données du sitemap sont mises en cache pendant 7 jours ; utilisez ce paramètre lorsque votre sitemap a été mis à jour récemment.",
                    "default": false
                  },
                  "limit": {
                    "type": "integer",
                    "description": "Nombre maximal de liens à retourner",
                    "default": 5000,
                    "maximum": 100000
                  },
                  "timeout": {
                    "type": "integer",
                    "description": "Délai d’attente en millisecondes. Aucun délai d’attente n’est appliqué par défaut."
                  },
                  "location": {
                    "type": "object",
                    "description": "Paramètres de localisation de la requête. Lorsqu’ils sont spécifiés, un proxy approprié est utilisé, si disponible, et les paramètres de langue et de fuseau horaire correspondants sont émulés. La valeur par défaut est « US » si aucun paramètre n’est spécifié.",
                    "properties": {
                      "country": {
                        "type": "string",
                        "description": "Code de pays ISO 3166-1 alpha-2 (par exemple « US », « AU », « DE », « JP »)",
                        "pattern": "^[A-Z]{2}$",
                        "default": "US"
                      },
                      "languages": {
                        "type": "array",
                        "description": "Langues et paramètres régionaux préférés pour la requête, par ordre de priorité. Par défaut, la langue de l’emplacement spécifié est utilisée. Voir https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language",
                        "items": {
                          "type": "string",
                          "example": "en-US"
                        }
                      }
                    }
                  }
                },
                "required": [
                  "url"
                ]
              },
              "examples": {
                "example1": {
                  "summary": "Exemple 1",
                  "value": {
                    "url": "<string>",
                    "search": "<string>",
                    "sitemap": "include",
                    "includeSubdomains": true,
                    "ignoreQueryParameters": true,
                    "ignoreCache": false,
                    "limit": 5000,
                    "location": {
                      "country": "US",
                      "languages": [
                        "en-US"
                      ]
                    },
                    "timeout": 60000
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Réponse réussie",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapResponse"
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Request rate limit exceeded. Please wait and try again later."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/extract": {
      "post": {
        "summary": "Extraire des données structurées à partir de pages grâce aux LLM",
        "operationId": "extractData",
        "tags": [
          "Extraction"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "urls": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "uri",
                      "description": "Les URL à partir desquelles extraire les données. Les URL doivent être au format glob."
                    }
                  },
                  "prompt": {
                    "type": "string",
                    "description": "Prompt pour orienter le processus d’extraction"
                  },
                  "schema": {
                    "type": "object",
                    "description": "Schéma définissant la structure des données extraites. Doit être conforme à [JSON Schema](https://json-schema.org/)."
                  },
                  "enableWebSearch": {
                    "type": "boolean",
                    "description": "Lorsque ce paramètre est défini sur true, l’extraction utilisera la recherche web pour trouver des données supplémentaires",
                    "default": false
                  },
                  "ignoreSitemap": {
                    "type": "boolean",
                    "description": "Lorsque cette option est activée, les fichiers sitemap.xml sont ignorés lors de l’analyse du site web",
                    "default": false
                  },
                  "includeSubdomains": {
                    "type": "boolean",
                    "description": "Lorsque cette option est activée, les sous-domaines des URL fournies sont également analysés",
                    "default": true
                  },
                  "showSources": {
                    "type": "boolean",
                    "description": "Lorsque la valeur est `true`, les sources utilisées pour extraire les données sont incluses dans la réponse sous la clé `sources`.",
                    "default": false
                  },
                  "scrapeOptions": {
                    "$ref": "#/components/schemas/ScrapeOptions"
                  },
                  "ignoreInvalidURLs": {
                    "type": "boolean",
                    "default": true,
                    "description": "Si des URL invalides sont spécifiées dans le tableau urls, elles seront ignorées. Plutôt que de faire échouer l’intégralité de la requête, une extraction sera effectuée en utilisant les URL valides restantes, et les URL invalides seront renvoyées dans le champ invalidURLs de la réponse."
                  }
                },
                "required": [
                  "urls"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Extraction réussie",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtractResponse"
                }
              }
            }
          },
          "400": {
            "description": "Requête invalide",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Invalid input data."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/extract/{id}": {
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "description": "L’identifiant de la tâche d’extraction",
          "required": true,
          "schema": {
            "type": "string",
            "format": "uuid"
          }
        }
      ],
      "get": {
        "summary": "Récupérer le statut d’une tâche d’extraction",
        "operationId": "getExtractStatus",
        "tags": [
          "Extraction"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse réussie",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtractStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/agent": {
      "post": {
        "summary": "Démarrer une tâche d’agent pour l’extraction de données pilotée par un agent",
        "operationId": "startAgent",
        "tags": [
          "Agent"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "urls": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "uri"
                    },
                    "description": "Liste facultative d’URL servant à limiter l’agent"
                  },
                  "prompt": {
                    "type": "string",
                    "description": "Le prompt décrivant les données à extraire",
                    "maxLength": 10000
                  },
                  "schema": {
                    "type": "object",
                    "description": "Schéma JSON facultatif pour structurer les données extraites"
                  },
                  "maxCredits": {
                    "type": "number",
                    "description": "Nombre maximal de crédits que l’agent peut utiliser pour cette tâche. Par défaut : 2 500 si aucune valeur n’est définie."
                  },
                  "strictConstrainToURLs": {
                    "type": "boolean",
                    "description": "Si la valeur est true, l’agent ne visitera que les URL fournies dans le tableau urls"
                  },
                  "model": {
                    "type": "string",
                    "enum": [
                      "spark-1-mini",
                      "spark-1-pro"
                    ],
                    "default": "spark-1-mini",
                    "description": "Le modèle à utiliser pour les tâches d’agent. spark-1-mini (par défaut) coûte 60 % de moins, tandis que spark-1-pro offre une meilleure précision pour les tâches complexes."
                  }
                },
                "required": [
                  "prompt"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "La tâche de l’agent a démarré avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string",
                      "format": "uuid"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Rate limit exceeded."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/agent/{jobId}": {
      "parameters": [
        {
          "name": "jobId",
          "in": "path",
          "description": "L’ID de la tâche de l’agent",
          "required": true,
          "schema": {
            "type": "string",
            "format": "uuid"
          }
        }
      ],
      "get": {
        "summary": "Récupérer l’état d’une tâche d’agent",
        "operationId": "getAgentStatus",
        "tags": [
          "Agent"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse réussie",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "processing",
                        "completed",
                        "failed"
                      ]
                    },
                    "data": {
                      "type": "object",
                      "description": "Les données extraites (uniquement présentes lorsque le statut est « completed »)"
                    },
                    "model": {
                      "type": "string",
                      "enum": [
                        "spark-1-pro",
                        "spark-1-mini"
                      ],
                      "default": "spark-1-pro",
                      "description": "Préréglage du modèle utilisé lors de l’exécution de l’agent"
                    },
                    "error": {
                      "type": "string",
                      "description": "Message d’erreur (présent uniquement lorsque le statut est « failed »)"
                    },
                    "expiresAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "creditsUsed": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Annuler une tâche d’agent",
        "operationId": "cancelAgent",
        "tags": [
          "Agent"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Tâche de l’agent annulée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/crawl/active": {
      "get": {
        "summary": "Récupérer tous les crawls actifs de l’équipe authentifiée",
        "operationId": "getActiveCrawls",
        "tags": [
          "Crawling"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse en cas de succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "crawls": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid",
                            "description": "L’identifiant unique du crawl"
                          },
                          "teamId": {
                            "type": "string",
                            "description": "L’identifiant de l’équipe propriétaire du crawl"
                          },
                          "url": {
                            "type": "string",
                            "format": "uri",
                            "description": "L’URL de départ du crawl"
                          },
                          "options": {
                            "type": "object",
                            "description": "Options du crawler utilisées pour ce crawl",
                            "properties": {
                              "scrapeOptions": {
                                "$ref": "#/components/schemas/ScrapeOptions"
                              }
                            }
                          }
                        },
                        "required": [
                          "id",
                          "teamId",
                          "url",
                          "status",
                          "options"
                        ]
                      }
                    }
                  },
                  "required": [
                    "success",
                    "data"
                  ]
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Trop de requêtes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Request rate limit exceeded. Please wait and try again later."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/team/credit-usage": {
      "get": {
        "summary": "Obtenir le nombre de crédits restants de l'équipe authentifiée",
        "operationId": "getCreditUsage",
        "tags": [
          "Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse en cas de succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "remainingCredits": {
                          "type": "number",
                          "description": "Nombre de crédits restants de l’équipe",
                          "example": 1000
                        },
                        "planCredits": {
                          "type": "number",
                          "description": "Nombre de crédits inclus dans le forfait. Les crédits issus de coupons, de packs de crédits ou de recharges automatiques ne sont pas inclus.",
                          "example": 500000
                        },
                        "billingPeriodStart": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Date de début de la période de facturation. null si vous utilisez le forfait gratuit",
                          "example": "2025-01-01T00:00:00Z",
                          "nullable": true
                        },
                        "billingPeriodEnd": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Date de fin de la période de facturation. null si vous êtes sur l’offre gratuite",
                          "example": "2025-01-31T23:59:59Z",
                          "nullable": true
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Informations d’utilisation des crédits introuvables",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Could not find credit usage information"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error while fetching credit usage"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/team/credit-usage/historical": {
      "get": {
        "summary": "Obtenir l’historique d’utilisation des crédits de l’équipe authentifiée",
        "operationId": "getHistoricalCreditUsage",
        "tags": [
          "Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "byApiKey",
            "in": "query",
            "description": "Récupérer l’historique d’utilisation des crédits par clé API",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse réussie",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "periods": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "startDate": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Date de début de la période de facturation",
                            "example": "2025-01-01T00:00:00Z"
                          },
                          "endDate": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Date de fin de la période de facturation",
                            "example": "2025-01-31T23:59:59Z"
                          },
                          "apiKey": {
                            "type": "string",
                            "description": "Nom de la clé d’API utilisée pour la période de facturation. null si byApiKey est défini sur false (valeur par défaut)",
                            "nullable": true
                          },
                          "totalCredits": {
                            "type": "integer",
                            "description": "Nombre total de crédits utilisés au cours de la période de facturation",
                            "example": 1000
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error while fetching historical credit usage"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/team/token-usage": {
      "get": {
        "summary": "Récupérer le nombre de jetons restants pour l’équipe authentifiée (extraction uniquement)",
        "operationId": "getTokenUsage",
        "tags": [
          "Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse en cas de succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "remainingTokens": {
                          "type": "number",
                          "description": "Nombre de jetons restants pour l’équipe",
                          "example": 1000
                        },
                        "planTokens": {
                          "type": "number",
                          "description": "Nombre de jetons inclus dans le forfait. Les jetons issus de coupons ne sont pas comptés.",
                          "example": 500000
                        },
                        "billingPeriodStart": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Date de début de la période de facturation. null si vous utilisez le plan gratuit",
                          "example": "2025-01-01T00:00:00Z",
                          "nullable": true
                        },
                        "billingPeriodEnd": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Date de fin de la période de facturation. null si vous utilisez l’offre gratuite",
                          "example": "2025-01-31T23:59:59Z",
                          "nullable": true
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Impossible de trouver les informations sur l’utilisation des jetons",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Could not find token usage information"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error while fetching token usage"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/team/token-usage/historical": {
      "get": {
        "summary": "Obtenir l’historique d’utilisation des jetons de l’équipe authentifiée (Extract uniquement)",
        "operationId": "getHistoricalTokenUsage",
        "tags": [
          "Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "byApiKey",
            "in": "query",
            "description": "Récupérer l’historique d’utilisation des jetons par clé API",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse réussie",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "periods": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "startDate": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Date de début de la période de facturation",
                            "example": "2025-01-01T00:00:00Z"
                          },
                          "endDate": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Date de fin de la période de facturation",
                            "example": "2025-01-31T23:59:59Z"
                          },
                          "apiKey": {
                            "type": "string",
                            "description": "Nom de la clé d’API utilisée pour la période de facturation. null si byApiKey est défini sur false (valeur par défaut)",
                            "nullable": true
                          },
                          "totalTokens": {
                            "type": "integer",
                            "description": "Nombre total de jetons utilisés au cours de la période de facturation",
                            "example": 1000
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error while fetching historical token usage"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/team/queue-status": {
      "get": {
        "summary": "Statistiques sur la file d’attente de scraping de votre équipe",
        "operationId": "getQueueStatus",
        "tags": [
          "Miscellaneous"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Réponse en cas de succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "jobsInQueue": {
                      "type": "number",
                      "description": "Nombre de tâches actuellement en file d’attente"
                    },
                    "activeJobsInQueue": {
                      "type": "number",
                      "description": "Nombre de tâches en cours"
                    },
                    "waitingJobsInQueue": {
                      "type": "number",
                      "description": "Nombre de tâches actuellement en attente"
                    },
                    "maxConcurrency": {
                      "type": "number",
                      "description": "Nombre maximal de tâches actives simultanées en fonction de votre offre"
                    },
                    "mostRecentSuccess": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Horodatage de la dernière tâche réussie",
                      "nullable": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/search": {
      "post": {
        "summary": "Rechercher et éventuellement scraper les résultats de recherche",
        "operationId": "searchAndScrape",
        "tags": [
          "Search"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "query": {
                    "type": "string",
                    "description": "La requête de recherche"
                  },
                  "limit": {
                    "type": "integer",
                    "description": "Nombre maximal de résultats à renvoyer",
                    "default": 5,
                    "maximum": 100,
                    "minimum": 1
                  },
                  "sources": {
                    "type": "array",
                    "items": {
                      "oneOf": [
                        {
                          "type": "object",
                          "title": "Web",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "web"
                              ]
                            },
                            "tbs": {
                              "type": "string",
                              "description": "Paramètre de recherche temporel. Prend en charge les plages temporelles prédéfinies (`qdr:h`, `qdr:d`, `qdr:w`, `qdr:m`, `qdr:y`) ainsi que les plages de dates personnalisées (`cdr:1,cd_min:MM/DD/YYYY,cd_max:MM/DD/YYYY`)."
                            },
                            "location": {
                              "type": "string",
                              "description": "Paramètre de localisation pour les résultats de recherche"
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "title": "Images",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "images"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "title": "News",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "news"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        }
                      ]
                    },
                    "description": "Sources à interroger. Déterminera les tableaux disponibles dans la réponse. Valeur par défaut : ['web'].",
                    "default": [
                      "web"
                    ]
                  },
                  "categories": {
                    "type": "array",
                    "items": {
                      "oneOf": [
                        {
                          "type": "object",
                          "title": "GitHub",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "github"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "title": "Research",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "research"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        },
                        {
                          "type": "object",
                          "title": "PDF",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "pdf"
                              ]
                            }
                          },
                          "required": [
                            "type"
                          ]
                        }
                      ]
                    },
                    "description": "Catégories utilisées pour filtrer les résultats. Par défaut, la valeur est [], ce qui signifie qu’aucun filtre de catégorie ne sera appliqué aux résultats."
                  },
                  "tbs": {
                    "type": "string",
                    "description": "Paramètre de recherche temporel. Prend en charge les plages temporelles prédéfinies (`qdr:h`, `qdr:d`, `qdr:w`, `qdr:m`, `qdr:y`) et les plages de dates personnalisées (`cdr:1,cd_min:MM/DD/YYYY,cd_max:MM/DD/YYYY`)"
                  },
                  "location": {
                    "type": "string",
                    "description": "Paramètre de localisation pour les résultats de recherche (par ex. `San Francisco,California,United States`). Pour de meilleurs résultats, définissez ce paramètre ainsi que le paramètre `country`."
                  },
                  "country": {
                    "type": "string",
                    "description": "Code pays ISO pour le ciblage géographique des résultats de recherche (par exemple `US`). Pour de meilleurs résultats, définissez ce paramètre ainsi que le paramètre `location`.",
                    "default": "US"
                  },
                  "timeout": {
                    "type": "integer",
                    "description": "Délai d'expiration en millisecondes",
                    "default": 60000
                  },
                  "ignoreInvalidURLs": {
                    "type": "boolean",
                    "description": "Exclut des résultats de recherche les URL qui ne sont pas valides pour d’autres endpoints Firecrawl. Cela permet de réduire les erreurs si vous transmettez les données issues de la recherche vers d’autres endpoints de l’API Firecrawl.",
                    "default": false
                  },
                  "scrapeOptions": {
                    "allOf": [
                      {
                        "$ref": "#/components/schemas/ScrapeOptions"
                      }
                    ],
                    "description": "Options pour extraire les résultats de recherche",
                    "default": {}
                  }
                },
                "required": [
                  "query"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Réponse en cas de succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "web": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "title": {
                                "type": "string",
                                "description": "Titre du résultat de recherche"
                              },
                              "description": {
                                "type": "string",
                                "description": "Description du résultat de la recherche"
                              },
                              "url": {
                                "type": "string",
                                "description": "URL du résultat de la recherche"
                              },
                              "markdown": {
                                "type": "string",
                                "nullable": true,
                                "description": "Contenu en Markdown si une opération de scraping a été demandée"
                              },
                              "html": {
                                "type": "string",
                                "nullable": true,
                                "description": "Contenu HTML si demandé dans les formats de sortie"
                              },
                              "rawHtml": {
                                "type": "string",
                                "nullable": true,
                                "description": "Contenu HTML brut si ce format est demandé dans formats"
                              },
                              "links": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Liens trouvés lorsqu’ils sont demandés dans les formats"
                              },
                              "screenshot": {
                                "type": "string",
                                "nullable": true,
                                "description": "URL de capture d’écran si elle est demandée dans les formats. Les captures d’écran expirent au bout de 24 heures et ne peuvent alors plus être téléchargées."
                              },
                              "metadata": {
                                "type": "object",
                                "properties": {
                                  "title": {
                                    "type": "string"
                                  },
                                  "description": {
                                    "type": "string"
                                  },
                                  "sourceURL": {
                                    "type": "string",
                                    "description": "L’URL initialement demandée. Elle peut différer de l’URL finale de la page si des redirections ont été appliquées."
                                  },
                                  "url": {
                                    "type": "string",
                                    "description": "L’URL finale de la page après application de l’ensemble des redirections."
                                  },
                                  "statusCode": {
                                    "type": "integer"
                                  },
                                  "error": {
                                    "type": "string",
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        },
                        "images": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "title": {
                                "type": "string",
                                "description": "Titre du résultat de recherche"
                              },
                              "imageUrl": {
                                "type": "string",
                                "description": "URL de l’image"
                              },
                              "imageWidth": {
                                "type": "integer",
                                "description": "Largeur de l'image"
                              },
                              "imageHeight": {
                                "type": "integer",
                                "description": "Hauteur de l’image"
                              },
                              "url": {
                                "type": "string",
                                "description": "URL du résultat de la recherche"
                              },
                              "position": {
                                "type": "integer",
                                "description": "Position du résultat de recherche"
                              }
                            }
                          }
                        },
                        "news": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "title": {
                                "type": "string",
                                "description": "Titre de l’article"
                              },
                              "snippet": {
                                "type": "string",
                                "description": "Extrait de l’article"
                              },
                              "url": {
                                "type": "string",
                                "description": "URL de l’article"
                              },
                              "date": {
                                "type": "string",
                                "description": "Date de l’article"
                              },
                              "imageUrl": {
                                "type": "string",
                                "description": "URL de l’image de l’article"
                              },
                              "position": {
                                "type": "integer",
                                "description": "Position de l’article"
                              },
                              "markdown": {
                                "type": "string",
                                "nullable": true,
                                "description": "Contenu Markdown si un scraping a été demandé"
                              },
                              "html": {
                                "type": "string",
                                "nullable": true,
                                "description": "Contenu HTML si inclus dans les formats demandés"
                              },
                              "rawHtml": {
                                "type": "string",
                                "nullable": true,
                                "description": "Contenu HTML brut si ce format est demandé"
                              },
                              "links": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "Liens trouvés si demandés dans les formats"
                              },
                              "screenshot": {
                                "type": "string",
                                "nullable": true,
                                "description": "URL de la capture d’écran si demandé dans les formats. Les captures d’écran expirent après 24 heures et ne sont alors plus téléchargeables."
                              },
                              "metadata": {
                                "type": "object",
                                "properties": {
                                  "title": {
                                    "type": "string"
                                  },
                                  "description": {
                                    "type": "string"
                                  },
                                  "sourceURL": {
                                    "type": "string",
                                    "description": "L’URL initialement demandée. Elle peut différer de l’URL finale de la page si des redirections ont été appliquées."
                                  },
                                  "url": {
                                    "type": "string",
                                    "description": "L’URL finale de la page après application de l’ensemble des redirections."
                                  },
                                  "statusCode": {
                                    "type": "integer"
                                  },
                                  "error": {
                                    "type": "string",
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "description": "Les résultats de la recherche. Les tableaux disponibles dépendront des sources que vous avez spécifiées dans la requête. Par défaut, le tableau `web` sera renvoyé."
                    },
                    "warning": {
                      "type": "string",
                      "nullable": true,
                      "description": "Message d’avertissement si des problèmes surviennent"
                    },
                    "id": {
                      "type": "string",
                      "description": "L’ID de la tâche de recherche"
                    },
                    "creditsUsed": {
                      "type": "integer",
                      "description": "Nombre de crédits utilisés pour la recherche"
                    }
                  }
                }
              }
            }
          },
          "408": {
            "description": "Délai d'attente dépassé",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Request timed out"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "UNKNOWN_ERROR"
                    },
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred on the server."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/browser": {
      "post": {
        "summary": "Créer une session de navigateur",
        "operationId": "createBrowserSession",
        "tags": [
          "Browser"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ttl": {
                    "type": "integer",
                    "default": 300,
                    "minimum": 30,
                    "maximum": 3600,
                    "description": "Durée de vie totale de la session de navigateur, en secondes"
                  },
                  "activityTtl": {
                    "type": "integer",
                    "minimum": 10,
                    "maximum": 3600,
                    "description": "Temps en secondes avant la destruction de la session pour cause d’inactivité"
                  },
                  "streamWebView": {
                    "type": "boolean",
                    "default": true,
                    "description": "Indique s’il faut diffuser un flux en direct du navigateur"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Session de navigateur créée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "id": {
                      "type": "string",
                      "description": "Identifiant unique de la session"
                    },
                    "cdpUrl": {
                      "type": "string",
                      "description": "URL WebSocket pour accéder au protocole Chrome DevTools"
                    },
                    "liveViewUrl": {
                      "type": "string",
                      "description": "URL permettant d’afficher la session de navigateur en temps réel"
                    },
                    "expiresAt": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Date et heure d’expiration de la session en fonction du TTL"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Lister les sessions de navigateur",
        "operationId": "listBrowserSessions",
        "tags": [
          "Browser"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "destroyed"
              ]
            },
            "description": "Filtrer les sessions par statut"
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des sessions de navigateur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "sessions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "active",
                              "destroyed"
                            ]
                          },
                          "cdpUrl": {
                            "type": "string"
                          },
                          "liveViewUrl": {
                            "type": "string"
                          },
                          "streamWebView": {
                            "type": "boolean"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "lastActivity": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/browser/{sessionId}/execute": {
      "post": {
        "summary": "Exécuter du code dans une session de navigateur",
        "operationId": "executeBrowserCode",
        "tags": [
          "Browser"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "sessionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID de la session de navigateur"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "code"
                ],
                "properties": {
                  "code": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100000,
                    "description": "Code à exécuter dans l’environnement isolé (sandbox) du navigateur"
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "python",
                      "node",
                      "bash"
                    ],
                    "default": "node",
                    "description": "Langage du code à exécuter. Utilisez `node` pour JavaScript ou `bash` pour les commandes CLI d’agent-browser."
                  },
                  "timeout": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 300,
                    "description": "Délai d’exécution maximal en secondes"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Code exécuté avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "stdout": {
                      "type": "string",
                      "nullable": true,
                      "description": "Sortie standard de l’exécution du code"
                    },
                    "result": {
                      "type": "string",
                      "nullable": true,
                      "description": "Sortie standard (alias stdout)"
                    },
                    "stderr": {
                      "type": "string",
                      "nullable": true,
                      "description": "Sortie d’erreur standard de l’exécution du code"
                    },
                    "exitCode": {
                      "type": "integer",
                      "nullable": true,
                      "description": "Code de sortie du processus exécuté"
                    },
                    "killed": {
                      "type": "boolean",
                      "description": "Indique si le processus a été interrompu pour dépassement du temps limite"
                    },
                    "error": {
                      "type": "string",
                      "nullable": true,
                      "description": "Message d’erreur si le code a déclenché une exception"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/browser/{sessionId}": {
      "delete": {
        "summary": "Supprimer une session de navigateur",
        "operationId": "deleteBrowserSession",
        "tags": [
          "Browser"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "sessionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID de session du navigateur"
          }
        ],
        "responses": {
          "200": {
            "description": "Session de navigateur supprimée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "sessionDurationMs": {
                      "type": "integer",
                      "description": "Durée totale de la session (en millisecondes)"
                    },
                    "creditsBilled": {
                      "type": "number",
                      "description": "Nombre de crédits facturés pour la session"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "Paiement requis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Payment required to access this resource."
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    },
    "schemas": {
      "Formats": {
        "type": "array",
        "items": {
          "oneOf": [
            {
              "type": "object",
              "title": "Markdown",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "markdown"
                  ]
                }
              },
              "required": [
                "type"
              ]
            },
            {
              "type": "object",
              "title": "Summary",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "summary"
                  ]
                }
              },
              "required": [
                "type"
              ]
            },
            {
              "type": "object",
              "title": "HTML",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "html"
                  ]
                }
              },
              "required": [
                "type"
              ]
            },
            {
              "type": "object",
              "title": "Raw HTML",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "rawHtml"
                  ]
                }
              },
              "required": [
                "type"
              ]
            },
            {
              "type": "object",
              "title": "Links",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "links"
                  ]
                }
              },
              "required": [
                "type"
              ]
            },
            {
              "type": "object",
              "title": "Images",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "images"
                  ]
                }
              },
              "required": [
                "type"
              ]
            },
            {
              "type": "object",
              "title": "Screenshot",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "screenshot"
                  ]
                },
                "fullPage": {
                  "type": "boolean",
                  "description": "Indique s’il faut prendre une capture d’écran de la page entière (en ignorant viewport.height) ou seulement de la zone actuellement visible (viewport).",
                  "default": false
                },
                "quality": {
                  "type": "integer",
                  "description": "La qualité de la capture d’écran, sur une échelle de 1 à 100. 100 correspond à la qualité maximale."
                },
                "viewport": {
                  "type": "object",
                  "properties": {
                    "width": {
                      "type": "integer",
                      "description": "Largeur du viewport en pixels"
                    },
                    "height": {
                      "type": "integer",
                      "description": "La hauteur du viewport en pixels"
                    }
                  },
                  "required": [
                    "width",
                    "height"
                  ]
                }
              },
              "required": [
                "type"
              ]
            },
            {
              "type": "object",
              "title": "JSON",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "json"
                  ]
                },
                "schema": {
                  "type": "object",
                  "description": "Le schéma à utiliser pour la sortie JSON. Doit être conforme à [JSON Schema](https://json-schema.org/)."
                },
                "prompt": {
                  "type": "string",
                  "description": "L’invite à utiliser pour la sortie au format JSON"
                }
              },
              "required": [
                "type"
              ]
            },
            {
              "type": "object",
              "title": "Change Tracking",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "changeTracking"
                  ]
                },
                "modes": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "git-diff",
                      "json"
                    ]
                  },
                  "description": "Le mode de suivi des modifications à utiliser. « git-diff » fournit un diff détaillé, tandis que « json » compare les données JSON extraites."
                },
                "schema": {
                  "type": "object",
                  "description": "Schéma JSON pour l’extraction en mode « json ». Définit la structure des données à extraire et à comparer. Doit être conforme à [JSON Schema](https://json-schema.org/)."
                },
                "prompt": {
                  "type": "string",
                  "description": "Invite (prompt) à utiliser pour le suivi des modifications en mode « json ». S’il n’est pas fourni, l’invite (prompt) par défaut sera utilisée."
                },
                "tag": {
                  "type": "string",
                  "nullable": true,
                  "default": null,
                  "description": "Tag à utiliser pour le suivi des modifications. Les tags peuvent séparer l’historique du suivi des modifications en « branches » distinctes, où le suivi avec un tag spécifique ne sera comparé qu’aux extractions effectuées avec ce même tag. S’il n’est pas fourni, le tag par défaut (null) sera utilisé."
                }
              },
              "required": [
                "type"
              ]
            },
            {
              "type": "object",
              "title": "Branding",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "branding"
                  ]
                }
              },
              "required": [
                "type"
              ]
            }
          ]
        },
        "description": "Formats de sortie à inclure dans la réponse. Vous pouvez spécifier un ou plusieurs formats, soit sous forme de chaînes (par ex. `'markdown'`), soit sous forme d’objets avec des options supplémentaires (par ex. `{ type: 'json', schema: {...} }`). Certains formats requièrent la définition d’options spécifiques. Exemple : `['markdown', { type: 'json', schema: {...} }]`.",
        "default": [
          "markdown"
        ]
      },
      "ScrapeOptions": {
        "type": "object",
        "properties": {
          "formats": {
            "$ref": "#/components/schemas/Formats"
          },
          "onlyMainContent": {
            "type": "boolean",
            "description": "Ne renvoyez que le contenu principal de la page, en excluant les en-têtes, éléments de navigation, pieds de page, etc.",
            "default": true
          },
          "includeTags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Balises à inclure dans le résultat."
          },
          "excludeTags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Balises à exclure du résultat."
          },
          "maxAge": {
            "type": "integer",
            "description": "Retourne une version mise en cache de la page si elle est plus récente que cette durée (en millisecondes). Si une version mise en cache de la page est plus ancienne que cette valeur, la page sera à nouveau explorée (scrapée). Si vous n’avez pas besoin de données extrêmement récentes, activer cette option peut accélérer vos opérations de scraping de 500 %. Par défaut : 2 jours.",
            "default": 172800000
          },
          "headers": {
            "type": "object",
            "description": "En-têtes à inclure dans la requête. Peuvent être utilisés pour envoyer des cookies, un user-agent, etc."
          },
          "waitFor": {
            "type": "integer",
            "description": "Indiquez un délai en millisecondes avant de récupérer le contenu, afin de laisser à la page suffisamment de temps pour se charger. Ce temps d’attente s’ajoute à la fonction d’attente intelligente de Firecrawl.",
            "default": 0
          },
          "mobile": {
            "type": "boolean",
            "description": "Définissez cette option sur true pour simuler le scraping depuis un appareil mobile. Utile pour tester des pages responsives et prendre des captures d’écran en mode mobile.",
            "default": false
          },
          "skipTlsVerification": {
            "type": "boolean",
            "description": "Ignorer la vérification du certificat TLS lors des requêtes.",
            "default": true
          },
          "timeout": {
            "type": "integer",
            "description": "Délai d’expiration de la requête (en millisecondes). La valeur par défaut est de 30 000 (30 secondes) et la valeur maximale est de 300 000 (300 secondes).",
            "default": 30000,
            "maximum": 300000
          },
          "parsers": {
            "type": "array",
            "description": "Contrôle la façon dont les fichiers sont traités lors du scraping. Lorsque « pdf » est inclus (valeur par défaut), le contenu du PDF est extrait et converti au format Markdown, avec une facturation basée sur le nombre de pages (1 crédit par page). Lorsqu’un tableau vide est envoyé, le fichier PDF est renvoyé en encodage base64 avec un tarif fixe de 1 crédit pour l’ensemble du PDF.",
            "items": {
              "oneOf": [
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "pdf"
                      ]
                    },
                    "maxPages": {
                      "type": "integer",
                      "minimum": 1,
                      "maximum": 10000,
                      "description": "Nombre maximal de pages du PDF à analyser. Doit être un entier positif inférieur ou égal à 10 000."
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "additionalProperties": false
                }
              ]
            },
            "default": [
              "pdf"
            ]
          },
          "actions": {
            "type": "array",
            "description": "Actions à effectuer sur la page avant de récupérer le contenu",
            "items": {
              "oneOf": [
                {
                  "title": "Wait",
                  "oneOf": [
                    {
                      "type": "object",
                      "title": "Wait by Duration",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "wait"
                          ],
                          "description": "Attendre un nombre spécifié de millisecondes"
                        },
                        "milliseconds": {
                          "type": "integer",
                          "minimum": 1,
                          "description": "Nombre de millisecondes à attendre"
                        }
                      },
                      "required": [
                        "type",
                        "milliseconds"
                      ],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "title": "Wait for Element",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "wait"
                          ],
                          "description": "Attendre l’apparition d’un élément spécifique"
                        },
                        "selector": {
                          "type": "string",
                          "description": "Sélecteur CSS à surveiller",
                          "example": "#my-element"
                        }
                      },
                      "required": [
                        "type",
                        "selector"
                      ],
                      "additionalProperties": false
                    }
                  ]
                },
                {
                  "type": "object",
                  "title": "Screenshot",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "screenshot"
                      ],
                      "description": "Prenez une capture d’écran. Les liens se trouveront dans le tableau `actions.screenshots` de la réponse."
                    },
                    "fullPage": {
                      "type": "boolean",
                      "description": "Indique s’il faut prendre une capture d’écran de la page entière (en ignorant viewport.height) ou seulement de la zone actuellement visible (viewport).",
                      "default": false
                    },
                    "quality": {
                      "type": "integer",
                      "description": "Qualité de la capture d’écran, de 1 à 100, 100 étant la meilleure qualité."
                    },
                    "viewport": {
                      "type": "object",
                      "properties": {
                        "width": {
                          "type": "integer",
                          "description": "La largeur de la fenêtre d’affichage, en pixels"
                        },
                        "height": {
                          "type": "integer",
                          "description": "Hauteur du viewport en pixels"
                        }
                      },
                      "required": [
                        "width",
                        "height"
                      ]
                    }
                  },
                  "required": [
                    "type"
                  ]
                },
                {
                  "type": "object",
                  "title": "Click",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "click"
                      ],
                      "description": "Cliquez sur un élément"
                    },
                    "selector": {
                      "type": "string",
                      "description": "Sélecteur pour trouver l’élément par",
                      "example": "#load-more-button"
                    },
                    "all": {
                      "type": "boolean",
                      "description": "Clique sur tous les éléments correspondant au sélecteur, et pas seulement sur le premier. Ne lève pas d’erreur si aucun élément ne correspond au sélecteur.",
                      "default": false
                    }
                  },
                  "required": [
                    "type",
                    "selector"
                  ]
                },
                {
                  "type": "object",
                  "title": "Write text",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "write"
                      ],
                      "description": "Écrivez du texte dans un champ de saisie, une zone de texte ou un élément contenteditable. Remarque : vous devez d’abord placer le focus sur l’élément à l’aide d’une action « click » avant d’écrire. Le texte sera saisi caractère par caractère pour simuler une saisie au clavier."
                    },
                    "text": {
                      "type": "string",
                      "description": "Texte à saisir",
                      "example": "Hello, world!"
                    }
                  },
                  "required": [
                    "type",
                    "text"
                  ]
                },
                {
                  "type": "object",
                  "title": "Press a key",
                  "description": "Appuyez sur une touche du clavier. Reportez-vous à https://asawicki.info/nosense/doc/devices/keyboard/key_codes.html pour la liste des codes de touches.",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "press"
                      ],
                      "description": "Appuyez sur une touche de la page"
                    },
                    "key": {
                      "type": "string",
                      "description": "Touche sur laquelle appuyer",
                      "example": "Enter"
                    }
                  },
                  "required": [
                    "type",
                    "key"
                  ]
                },
                {
                  "type": "object",
                  "title": "Scroll",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "scroll"
                      ],
                      "description": "Faites défiler la page ou un élément spécifique"
                    },
                    "direction": {
                      "type": "string",
                      "enum": [
                        "up",
                        "down"
                      ],
                      "description": "Sens de défilement",
                      "default": "down"
                    },
                    "selector": {
                      "type": "string",
                      "description": "Sélecteur CSS de l’élément à faire défiler",
                      "example": "#my-element"
                    }
                  },
                  "required": [
                    "type"
                  ]
                },
                {
                  "type": "object",
                  "title": "Scrape",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "scrape"
                      ],
                      "description": "Extrait le contenu de la page actuelle et renvoie l’URL et le HTML."
                    }
                  },
                  "required": [
                    "type"
                  ]
                },
                {
                  "type": "object",
                  "title": "Execute JavaScript",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "executeJavascript"
                      ],
                      "description": "Exécuter du code JavaScript sur la page"
                    },
                    "script": {
                      "type": "string",
                      "description": "Code JavaScript à exécuter",
                      "example": "document.querySelector('.button').click();"
                    }
                  },
                  "required": [
                    "type",
                    "script"
                  ]
                },
                {
                  "type": "object",
                  "title": "Generate PDF",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "pdf"
                      ],
                      "description": "Génère un PDF de la page en cours. Le PDF sera renvoyé dans le tableau `actions.pdfs` de la réponse."
                    },
                    "format": {
                      "type": "string",
                      "enum": [
                        "A0",
                        "A1",
                        "A2",
                        "A3",
                        "A4",
                        "A5",
                        "A6",
                        "Letter",
                        "Legal",
                        "Tabloid",
                        "Ledger"
                      ],
                      "description": "Le format de page du PDF obtenu",
                      "default": "Letter"
                    },
                    "landscape": {
                      "type": "boolean",
                      "description": "Détermine s’il faut générer le PDF au format paysage",
                      "default": false
                    },
                    "scale": {
                      "type": "number",
                      "description": "Facteur d’échelle du PDF généré",
                      "default": 1
                    }
                  },
                  "required": [
                    "type"
                  ]
                }
              ]
            }
          },
          "location": {
            "type": "object",
            "description": "Paramètres de localisation pour la requête. Lorsqu’ils sont définis, un proxy approprié sera utilisé si disponible et les paramètres de langue et de fuseau horaire correspondants seront simulés. La valeur par défaut est « US » si aucun n’est spécifié.",
            "properties": {
              "country": {
                "type": "string",
                "description": "Code de pays ISO 3166-1 alpha-2 (p. ex. « US », « AU », « DE », « JP »)",
                "pattern": "^[A-Z]{2}$",
                "default": "US"
              },
              "languages": {
                "type": "array",
                "description": "Langues et paramètres régionaux préférés pour la requête, par ordre de priorité. Utilise par défaut la langue de l’emplacement spécifié. Voir https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language",
                "items": {
                  "type": "string",
                  "example": "en-US"
                }
              }
            }
          },
          "removeBase64Images": {
            "type": "boolean",
            "description": "Supprime toutes les images encodées en base64 de la sortie, car elles peuvent être très volumineuses. Le texte alternatif de l’image est conservé dans la sortie, mais l’URL est remplacée par une valeur fictive.",
            "default": true
          },
          "blockAds": {
            "type": "boolean",
            "description": "Active le blocage des publicités et des fenêtres contextuelles de cookies.",
            "default": true
          },
          "proxy": {
            "type": "string",
            "enum": [
              "basic",
              "enhanced",
              "auto"
            ],
            "description": "Spécifie le type de proxy à utiliser.\n\n - **basic** : Proxies pour le scraping de sites avec des solutions anti‑bots inexistantes ou basiques. Rapides et généralement efficaces.\n - **enhanced** : Proxies renforcés pour le scraping de sites avec des solutions anti‑bots avancées. Plus lents, mais plus fiables sur certains sites. Peut coûter jusqu’à 5 crédits par requête.\n - **auto** : Firecrawl réessaiera automatiquement le scraping avec des proxies renforcés si le proxy basic échoue. Si la nouvelle tentative avec le proxy renforcé réussit, 5 crédits seront facturés pour l’opération de scraping. Si la première tentative avec le proxy basic réussit, seul le coût standard sera facturé.",
            "default": "auto"
          },
          "storeInCache": {
            "type": "boolean",
            "description": "Si ce paramètre est défini sur true, la page sera stockée dans l’index et le cache de Firecrawl. Le définir sur false est utile si votre activité de scraping peut soulever des problèmes de protection des données. L’utilisation de certains paramètres associés à un scraping sensible (par ex. actions, headers) forcera ce paramètre à false.",
            "default": true
          }
        }
      },
      "ScrapeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object",
            "properties": {
              "markdown": {
                "type": "string"
              },
              "summary": {
                "type": "string",
                "nullable": true,
                "description": "Résumé de la page si `summary` est inclus dans `formats`"
              },
              "html": {
                "type": "string",
                "nullable": true,
                "description": "Version HTML nettoyée de la page si `html` figure dans `formats`. Supprime les balises `<script>`, `<style>`, `<noscript>`, `<meta>` et `<head>` ; convertit les URL relatives en URL absolues ; résout les attributs `srcset` des images responsives vers leur plus grande version. Respecte les filtres `onlyMainContent`, `includeTags` et `excludeTags`."
              },
              "rawHtml": {
                "type": "string",
                "nullable": true,
                "description": "Le code HTML brut, exactement tel qu’il est reçu depuis la page lorsque `rawHtml` est inclus dans `formats`. Aucun nettoyage ni filtrage n’est appliqué."
              },
              "screenshot": {
                "type": "string",
                "nullable": true,
                "description": "Capture d’écran de la page si `screenshot` est inclus dans `formats`. Les captures d’écran expirent au bout de 24 heures et ne peuvent ensuite plus être téléchargées."
              },
              "links": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Liste des liens sur la page si `links` fait partie de `formats`"
              },
              "actions": {
                "type": "object",
                "nullable": true,
                "description": "Résultats des actions spécifiées via le paramètre `actions`. Uniquement présent si ce paramètre a été fourni dans la requête",
                "properties": {
                  "screenshots": {
                    "type": "array",
                    "description": "URLs des captures d’écran, dans le même ordre que les actions de capture d’écran indiquées.",
                    "items": {
                      "type": "string",
                      "format": "url"
                    }
                  },
                  "scrapes": {
                    "type": "array",
                    "description": "Extraire le contenu dans le même ordre que les actions de scraping fournies.",
                    "items": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string"
                        },
                        "html": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "javascriptReturns": {
                    "type": "array",
                    "description": "Valeurs renvoyées par JavaScript, dans le même ordre que les actions executeJavascript fournies.",
                    "items": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string"
                        },
                        "value": {}
                      }
                    }
                  },
                  "pdfs": {
                    "type": "array",
                    "description": "PDF générés, dans le même ordre que les actions PDF fournies.",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              "metadata": {
                "type": "object",
                "properties": {
                  "title": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    ],
                    "description": "Titre extrait de la page, peut être une chaîne de caractères ou un tableau de chaînes de caractères"
                  },
                  "description": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    ],
                    "description": "Description extraite de la page, peut être une chaîne de caractères ou un tableau de chaînes de caractères"
                  },
                  "language": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    ],
                    "nullable": true,
                    "description": "Langue extraite de la page, peut être une chaîne ou un tableau de chaînes de caractères"
                  },
                  "sourceURL": {
                    "type": "string",
                    "format": "uri",
                    "description": "L’URL initialement demandée. Elle peut différer de l’URL finale de la page si des redirections ont été appliquées."
                  },
                  "url": {
                    "type": "string",
                    "format": "uri",
                    "description": "L’URL finale de la page après application de l’ensemble des redirections."
                  },
                  "keywords": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    ],
                    "description": "Mots-clés extraits de la page, sous forme d’une chaîne ou d’un tableau de chaînes"
                  },
                  "ogLocaleAlternate": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Autres paramètres régionaux pour la page"
                  },
                  "<any other metadata> ": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    ],
                    "description": "Autres métadonnées extraites du HTML, sous forme de chaîne ou de tableau de chaînes"
                  },
                  "statusCode": {
                    "type": "integer",
                    "description": "Le code de statut de la page"
                  },
                  "error": {
                    "type": "string",
                    "nullable": true,
                    "description": "Le message d’erreur de la page"
                  }
                }
              },
              "warning": {
                "type": "string",
                "nullable": true,
                "description": "Peut être affiché lorsque vous utilisez l’extraction LLM. Un message d’avertissement vous indiquera tout problème lors de l’extraction."
              },
              "changeTracking": {
                "type": "object",
                "nullable": true,
                "description": "Informations de suivi des modifications si `changeTracking` figure dans `formats`. Uniquement présent lorsque le format `changeTracking` est demandé.",
                "properties": {
                  "previousScrapeAt": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "description": "L’horodatage du précédent scrape auquel la page actuelle est comparée. Null s’il n’y a eu aucun scrape précédent."
                  },
                  "changeStatus": {
                    "type": "string",
                    "enum": [
                      "new",
                      "same",
                      "changed",
                      "removed"
                    ],
                    "description": "Le résultat de la comparaison entre les deux versions de la page. « new » signifie que cette page n’existait pas auparavant, « same » indique que le contenu n’a pas changé, « changed » indique que le contenu a été modifié, « removed » signifie que la page a été supprimée."
                  },
                  "visibility": {
                    "type": "string",
                    "enum": [
                      "visible",
                      "hidden"
                    ],
                    "description": "La visibilité de la page/URL actuelle. « visible » signifie que l’URL a été découverte via une voie organique (liens ou sitemap), « hidden » signifie que l’URL a été découverte à partir de la mémoire de crawls précédents."
                  },
                  "diff": {
                    "type": "string",
                    "nullable": true,
                    "description": "Diff des modifications au format Git lors de l’utilisation du mode « git-diff ». Uniquement présent lorsque le mode est activé sur « git-diff »."
                  },
                  "json": {
                    "type": "object",
                    "nullable": true,
                    "description": "Résultats de comparaison JSON lors de l’utilisation du mode `json`. Uniquement disponible lorsque le mode est défini sur `json`. Produit une liste de toutes les clés et de leurs valeurs à partir des extractions `previous` et `current`, en fonction du type défini dans le `schema`. Exemple [ici](/features/change-tracking)"
                  }
                }
              },
              "branding": {
                "type": "object",
                "nullable": true,
                "description": "Informations de branding extraites de la page si `branding` figure dans `formats`. Inclut les couleurs, les polices, la typographie, l’espacement, les composants, et plus encore.",
                "properties": {
                  "colorScheme": {
                    "type": "string",
                    "enum": [
                      "light",
                      "dark"
                    ],
                    "description": "Palette de couleurs détectée sur la page."
                  },
                  "logo": {
                    "type": "string",
                    "nullable": true,
                    "description": "URL du logo principal."
                  },
                  "colors": {
                    "type": "object",
                    "nullable": true,
                    "description": "Couleurs de la marque extraites à partir de la page.",
                    "properties": {
                      "primary": {
                        "type": "string",
                        "description": "Couleur principale de la marque (hex)."
                      },
                      "secondary": {
                        "type": "string",
                        "description": "Couleur secondaire de la marque (hex)."
                      },
                      "accent": {
                        "type": "string",
                        "description": "Couleur d’accent (hex)."
                      },
                      "background": {
                        "type": "string",
                        "description": "Couleur d’arrière-plan (hex)."
                      },
                      "textPrimary": {
                        "type": "string",
                        "description": "Couleur principale du texte (hex)."
                      },
                      "textSecondary": {
                        "type": "string",
                        "description": "Couleur secondaire du texte (hex)."
                      },
                      "link": {
                        "type": "string",
                        "description": "Couleur des liens (hex)."
                      },
                      "success": {
                        "type": "string",
                        "description": "Couleur de succès/état positif (hex)."
                      },
                      "warning": {
                        "type": "string",
                        "description": "Couleur d’avertissement (hex)."
                      },
                      "error": {
                        "type": "string",
                        "description": "Couleur d’erreur/de danger (hex)."
                      }
                    }
                  },
                  "fonts": {
                    "type": "array",
                    "nullable": true,
                    "description": "Tableau des familles de polices utilisées sur la page.",
                    "items": {
                      "type": "object",
                      "properties": {
                        "family": {
                          "type": "string",
                          "description": "Nom de la famille de polices."
                        }
                      }
                    }
                  },
                  "typography": {
                    "type": "object",
                    "nullable": true,
                    "description": "Informations détaillées sur la typographie.",
                    "properties": {
                      "fontFamilies": {
                        "type": "object",
                        "description": "Familles de polices par rôle.",
                        "properties": {
                          "primary": {
                            "type": "string",
                            "description": "Famille de polices principale."
                          },
                          "heading": {
                            "type": "string",
                            "description": "Famille de polices des titres."
                          },
                          "code": {
                            "type": "string",
                            "description": "Famille de polices pour le code/police à chasse fixe (monospace)."
                          }
                        }
                      },
                      "fontSizes": {
                        "type": "object",
                        "description": "Tailles de police pour les différents niveaux typographiques.",
                        "properties": {
                          "h1": {
                            "type": "string"
                          },
                          "h2": {
                            "type": "string"
                          },
                          "h3": {
                            "type": "string"
                          },
                          "body": {
                            "type": "string"
                          }
                        }
                      },
                      "fontWeights": {
                        "type": "object",
                        "description": "Définition des graisses de police.",
                        "properties": {
                          "light": {
                            "type": "integer"
                          },
                          "regular": {
                            "type": "integer"
                          },
                          "medium": {
                            "type": "integer"
                          },
                          "bold": {
                            "type": "integer"
                          }
                        }
                      },
                      "lineHeights": {
                        "type": "object",
                        "description": "Valeurs d’interligne pour les différents types de texte.",
                        "properties": {
                          "heading": {
                            "type": "string"
                          },
                          "body": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "spacing": {
                    "type": "object",
                    "nullable": true,
                    "description": "Paramètres d’espacement et de mise en page.",
                    "properties": {
                      "baseUnit": {
                        "type": "integer",
                        "description": "Unité de base d’espacement en pixels."
                      },
                      "borderRadius": {
                        "type": "string",
                        "description": "Rayon de bordure (border-radius) par défaut."
                      },
                      "padding": {
                        "type": "object",
                        "description": "Valeurs de remplissage (padding)."
                      },
                      "margins": {
                        "type": "object",
                        "description": "Valeurs de marge (margin)."
                      }
                    }
                  },
                  "components": {
                    "type": "object",
                    "nullable": true,
                    "description": "Styles des composants d’interface (UI).",
                    "properties": {
                      "buttonPrimary": {
                        "type": "object",
                        "description": "Styles des boutons principaux (boutons primaires).",
                        "properties": {
                          "background": {
                            "type": "string"
                          },
                          "textColor": {
                            "type": "string"
                          },
                          "borderRadius": {
                            "type": "string"
                          }
                        }
                      },
                      "buttonSecondary": {
                        "type": "object",
                        "description": "Styles pour les boutons secondaires.",
                        "properties": {
                          "background": {
                            "type": "string"
                          },
                          "textColor": {
                            "type": "string"
                          },
                          "borderColor": {
                            "type": "string"
                          },
                          "borderRadius": {
                            "type": "string"
                          }
                        }
                      },
                      "input": {
                        "type": "object",
                        "description": "Styles des champs de saisie."
                      }
                    }
                  },
                  "icons": {
                    "type": "object",
                    "nullable": true,
                    "description": "Styles des icônes."
                  },
                  "images": {
                    "type": "object",
                    "nullable": true,
                    "description": "Images de marque.",
                    "properties": {
                      "logo": {
                        "type": "string",
                        "description": "URL de l’image du logo."
                      },
                      "favicon": {
                        "type": "string",
                        "description": "URL du favicon."
                      },
                      "ogImage": {
                        "type": "string",
                        "description": "URL de l’image Open Graph."
                      }
                    }
                  },
                  "animations": {
                    "type": "object",
                    "nullable": true,
                    "description": "Paramètres d’animation et de transition."
                  },
                  "layout": {
                    "type": "object",
                    "nullable": true,
                    "description": "Configuration de la mise en page (grille, hauteurs d’en-tête et de pied de page)."
                  },
                  "personality": {
                    "type": "object",
                    "nullable": true,
                    "description": "Caractéristiques de la personnalité de la marque (ton, énergie, audience cible)."
                  }
                }
              }
            }
          }
        }
      },
      "CrawlStatusResponseObj": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Statut actuel du crawl. Peut être `scraping`, `completed` ou `failed`."
          },
          "total": {
            "type": "integer",
            "description": "Nombre total de pages pour lesquelles un crawl a été tenté."
          },
          "completed": {
            "type": "integer",
            "description": "Nombre de pages explorées avec succès."
          },
          "creditsUsed": {
            "type": "integer",
            "description": "Le nombre de crédits utilisés pour le crawl."
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "description": "La date et l’heure d’expiration du crawl."
          },
          "next": {
            "type": "string",
            "nullable": true,
            "description": "L’URL permettant de récupérer les 10 Mo de données suivants. Renvoyée si l’exploration n’est pas terminée ou si la réponse dépasse 10 Mo."
          },
          "data": {
            "type": "array",
            "description": "Les données du crawl.",
            "items": {
              "type": "object",
              "properties": {
                "markdown": {
                  "type": "string"
                },
                "html": {
                  "type": "string",
                  "nullable": true,
                  "description": "Version HTML du contenu de la page si `includeHtml` vaut true"
                },
                "rawHtml": {
                  "type": "string",
                  "nullable": true,
                  "description": "Contenu HTML brut de la page si `includeRawHtml` vaut true"
                },
                "links": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Liste des liens présents sur la page si `includeLinks` est défini à `true`"
                },
                "screenshot": {
                  "type": "string",
                  "nullable": true,
                  "description": "Capture d’écran de la page si `includeScreenshot` vaut true"
                },
                "metadata": {
                  "type": "object",
                  "properties": {
                    "title": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "description": "Titre extrait de la page, peut être une chaîne de caractères ou un tableau de chaînes de caractères"
                    },
                    "description": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "description": "Description extraite de la page, peut être une chaîne ou un tableau de chaînes de caractères"
                    },
                    "language": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "nullable": true,
                      "description": "Langue extraite de la page, peut être une chaîne de caractères ou un tableau de chaînes de caractères"
                    },
                    "sourceURL": {
                      "type": "string",
                      "format": "uri",
                      "description": "L’URL initiale demandée. Elle peut différer de l’URL finale de la page si des redirections ont eu lieu."
                    },
                    "url": {
                      "type": "string",
                      "format": "uri",
                      "description": "L’URL finale de la page après application de toutes les redirections."
                    },
                    "keywords": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "description": "Mots-clés extraits de la page ; peut être une chaîne ou un tableau de chaînes"
                    },
                    "ogLocaleAlternate": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Autres locales pour la page"
                    },
                    "<any other metadata> ": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "integer",
                      "description": "Le code d’état de la page"
                    },
                    "error": {
                      "type": "string",
                      "nullable": true,
                      "description": "Le message d’erreur de la page"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "CrawlErrorsResponseObj": {
        "type": "object",
        "properties": {
          "errors": {
            "type": "array",
            "description": "Tâches de scraping en échec et détails des erreurs",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "timestamp": {
                  "type": "string",
                  "nullable": true,
                  "description": "Horodatage ISO de l’échec"
                },
                "url": {
                  "type": "string",
                  "description": "URL explorée"
                },
                "error": {
                  "type": "string",
                  "description": "Message d’erreur"
                }
              }
            }
          },
          "robotsBlocked": {
            "type": "array",
            "description": "Liste des URL qui ont été tentées lors du scraping mais bloquées par robots.txt",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "BatchScrapeStatusResponseObj": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "État actuel du scraping par lot. Peut être `scraping`, `completed` ou `failed`."
          },
          "total": {
            "type": "integer",
            "description": "Nombre total de pages pour lesquelles un scraping a été tenté."
          },
          "completed": {
            "type": "integer",
            "description": "Le nombre de pages récupérées avec succès."
          },
          "creditsUsed": {
            "type": "integer",
            "description": "Nombre de crédits utilisés pour le scraping en lot."
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "description": "La date et l’heure d’expiration du lot de scraping."
          },
          "next": {
            "type": "string",
            "nullable": true,
            "description": "L’URL permettant de récupérer les 10 Mo de données suivants. Renvoyée si le scraping par lots n’est pas terminé ou si la réponse dépasse 10 Mo."
          },
          "data": {
            "type": "array",
            "description": "Les données de l'extraction par lots.",
            "items": {
              "type": "object",
              "properties": {
                "markdown": {
                  "type": "string"
                },
                "html": {
                  "type": "string",
                  "nullable": true,
                  "description": "Version HTML du contenu de la page si `includeHtml` vaut true"
                },
                "rawHtml": {
                  "type": "string",
                  "nullable": true,
                  "description": "Contenu HTML brut de la page si `includeRawHtml` vaut true"
                },
                "links": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Liste des liens présents sur la page si `includeLinks` est vrai"
                },
                "screenshot": {
                  "type": "string",
                  "nullable": true,
                  "description": "Capture d’écran de la page si `includeScreenshot` vaut true"
                },
                "metadata": {
                  "type": "object",
                  "properties": {
                    "title": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "description": "Titre extrait de la page, peut être une chaîne ou un tableau de chaînes de caractères"
                    },
                    "description": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "description": "Description extraite de la page, peut être une chaîne de caractères ou un tableau de chaînes de caractères"
                    },
                    "language": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "nullable": true,
                      "description": "Langue extraite de la page, peut être une chaîne de caractères ou un tableau de chaînes de caractères"
                    },
                    "sourceURL": {
                      "type": "string",
                      "format": "uri",
                      "description": "L’URL initiale demandée. Elle peut différer de l’URL finale de la page si des redirections ont eu lieu."
                    },
                    "url": {
                      "type": "string",
                      "format": "uri",
                      "description": "L’URL finale de la page après application de toutes les redirections."
                    },
                    "keywords": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "description": "Mots-clés extraits de la page, sous forme de chaîne ou de tableau de chaînes"
                    },
                    "ogLocaleAlternate": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Paramètres régionaux alternatifs de la page"
                    },
                    "<any other metadata> ": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "integer",
                      "description": "Le code d’état HTTP de la page"
                    },
                    "error": {
                      "type": "string",
                      "nullable": true,
                      "description": "Le message d’erreur de la page"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "CrawlResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "id": {
            "type": "string"
          },
          "url": {
            "type": "string",
            "format": "uri"
          }
        }
      },
      "BatchScrapeResponseObj": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "id": {
            "type": "string"
          },
          "url": {
            "type": "string",
            "format": "uri"
          },
          "invalidURLs": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "string"
            },
            "description": "Si ignoreInvalidURLs vaut true, ce champ est un tableau contenant les URL non valides qui ont été spécifiées dans la requête. S’il n’y a aucune URL non valide, ce sera un tableau vide. Si ignoreInvalidURLs vaut false, ce champ sera undefined."
          }
        }
      },
      "MapResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "links": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "url": {
                  "type": "string",
                  "format": "uri"
                },
                "title": {
                  "type": "string",
                  "description": "Le titre de la page, le cas échéant."
                },
                "description": {
                  "type": "string",
                  "description": "Description de la page, le cas échéant."
                }
              },
              "required": [
                "url"
              ]
            }
          }
        }
      },
      "ExtractResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "id": {
            "type": "string"
          },
          "invalidURLs": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "string"
            },
            "description": "Si ignoreInvalidURLs vaut true, ce champ est un tableau contenant les URL non valides qui ont été spécifiées dans la requête. S’il n’y a aucune URL non valide, ce sera un tableau vide. Si ignoreInvalidURLs vaut false, ce champ sera undefined."
          }
        }
      },
      "ExtractStatusResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object"
          },
          "status": {
            "type": "string",
            "enum": [
              "completed",
              "processing",
              "failed",
              "cancelled"
            ],
            "description": "L’état actuel de la tâche d’extraction"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time"
          },
          "tokensUsed": {
            "type": "integer",
            "description": "Nombre de tokens utilisés pour la tâche d’extraction. Uniquement disponible lorsque la tâche est terminée."
          }
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ]
}