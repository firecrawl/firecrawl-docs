---
title: "Sécurité"
description: "Vérifiez l’authenticité des webhooks et appliquez les meilleures pratiques de sécurité"
og:title: "Sécurité des webhooks | Firecrawl"
og:description: "Vérifiez l’authenticité des webhooks et appliquez les meilleures pratiques de sécurité"
icon: "shield-check"
---

import WebhookSignatureJS from '/snippets/fr/v2/webhook-signature/js.mdx';
import WebhookSignaturePython from '/snippets/fr/v2/webhook-signature/python.mdx';

La sécurité des webhooks est essentielle pour garantir que les requêtes adressées à votre endpoint proviennent bien de Firecrawl et n’ont pas été altérées. Cette page explique comment vérifier l’authenticité des webhooks et appliquer les bonnes pratiques de sécurité.

<div id="why-webhook-security-matters">
  ## Pourquoi la sécurité des webhooks est essentielle
</div>

Sans vérification adéquate, des attaquants pourraient :

- Envoyer de fausses requêtes de webhook pour déclencher des actions indésirables
- Modifier le contenu du payload pour manipuler votre application
- Saturer votre point de terminaison de webhook avec des requêtes

<div id="how-firecrawl-signs-webhooks">
  ## Comment Firecrawl signe les webhooks
</div>

Firecrawl signe chaque requête de webhook à l’aide d’un HMAC-SHA256 calculé avec la clé secrète de votre compte. Cela génère une signature unique pour chaque requête, qui prouve :

1. Que la requête provient bien de Firecrawl
2. Que le contenu (payload) n’a pas été modifié

<div id="finding-your-secret-key">
  ## Rechercher votre clé secrète
</div>

Le secret de votre webhook est disponible dans l’[onglet Avancé](https://www.firecrawl.dev/app/settings?tab=advanced) des paramètres de votre compte. Chaque compte dispose d’un secret unique utilisé pour signer toutes les requêtes webhook.

<Warning>
  Gardez le secret de votre webhook en lieu sûr et ne l’exposez jamais publiquement. Si vous pensez
  que votre secret a été compromis, régénérez-le immédiatement depuis les paramètres
  de votre compte.
</Warning>

<div id="signature-verification">
  ## Vérification de la signature
</div>

<div id="how-signatures-work">
  ### Fonctionnement des signatures
</div>

Chaque requête de webhook inclut un en-tête `X-Firecrawl-Signature` au format suivant :

```
X-Firecrawl-Signature: sha256=abc123def456...
```

La signature est calculée comme suit :

1. Prendre le corps brut de la requête (chaîne JSON)
2. Créer un hachage HMAC-SHA256 à l’aide de votre clé secrète
3. Convertir en chaîne hexadécimale
4. Préfixer avec `sha256=`

<div id="implementation-examples">
  ### Exemples d’implémentation
</div>

<CodeGroup>

<WebhookSignatureJS />

<WebhookSignaturePython />

</CodeGroup>

<div id="step-by-step-verification">
  ### Vérification étape par étape
</div>

1. **Extraire la signature** de l’en-tête `X-Firecrawl-Signature`
2. **Récupérer le corps brut de la requête** tel que reçu (ne le parsez pas au préalable)
3. **Calculer le HMAC-SHA256** avec votre clé secrète et le corps brut
4. **Comparer les signatures** à l’aide d’une fonction de comparaison à durée constante
5. **Ne traiter** le webhook que si les signatures correspondent

<div id="security-best-practices">
  ## Bonnes pratiques de sécurité
</div>

<div id="always-validate-signatures">
  ### Toujours valider les signatures
</div>

Ne faites jamais confiance à une requête de webhook sans vérification de signature :

```javascript
// ❌ MAUVAIS - Aucune vérification
app.post('/webhook', (req, res) => {
  processWebhook(req.body); // Dangereux !
  res.status(200).send('OK');
});

// ✅ BON - Vérification préalable
app.post('/webhook', (req, res) => {
  if (!verifySignature(req)) {
    return res.status(401).send('Accès non autorisé');
  }
  processWebhook(req.body);
  res.status(200).send('OK');
});
```

<div id="use-timing-safe-comparisons">
  ### Utilisez des comparaisons à temps constant
</div>

La comparaison de chaînes standard peut révéler des informations temporelles. Utilisez des fonctions dédiées :

- **Node.js** : `crypto.timingSafeEqual()`
- **Python** : `hmac.compare_digest()`
- **Autres langages** : recherchez des fonctions de comparaison « constant-time » ou « timing-safe »

<div id="require-https">
  ### Exiger HTTPS
</div>

Utilisez toujours des points de terminaison HTTPS pour les webhooks :

```json
{
  "url": "https://your-app.com/webhook" // ✅ Sécurisé
}
```

```json
{
  "url": "http://your-app.com/webhook" // ❌ Non sécurisé
}
```
