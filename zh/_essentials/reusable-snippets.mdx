---
title: 可复用片段
description: 可复用的自定义片段，保持内容同步
icon: 'recycle'
---

import SnippetIntro from '/snippets/zh/snippet-intro.mdx';

<SnippetIntro />


<div id="creating-a-custom-snippet">
  ## 创建自定义 snippet
</div>

**前提条件**：必须在 `snippets` 目录中创建 snippet 文件。

<Note>
  `snippets` 目录下的任何页面都会被视为 snippet，并且不会渲染为独立页面。
  如果你想从该 snippet 创建一个独立页面，请在另一份文件中导入该 snippet，
  并将其作为组件调用。
</Note>

<div id="default-export">
  ### 默认导出
</div>

1. 将你希望在多个位置复用的内容添加到片段文件中。你也可以添加变量，在导入该片段时通过 props 传入填充。

```mdx snippets/my-snippet.mdx
Hello，world！这是我想在各个页面复用的内容。今天的关键词是 {word}。
day is {word}.
```

<Warning>
  你要复用的内容必须放在 `snippets` 目录中，
  否则导入将无法生效。
</Warning>

2. 将该 snippet 导入到目标文件中。

```mdx destination-file.mdx
---
title: 我的标题
description: 我的描述
---

import MySnippet from '/snippets/path/to/my-snippet.mdx';

## 标题

这里是一段占位用的伪拉丁文本。

<MySnippet word="bananas" />
```


<div id="reusable-variables">
  ### 可复用变量
</div>

1. 从你的代码片段文件中导出一个变量：

```mdx snippets/path/to/custom-variables.mdx
export const myName = 'my name';

export const myObject = { fruit: 'strawberries' };
```

2. 从目标文件中导入该片段并使用该变量：

```mdx destination-file.mdx
---
title: 我的标题
description: 我的描述
---

import { myName, myObject } from '/snippets/path/to/custom-variables.mdx';

你好，我叫 {myName}，我喜欢 {myObject.fruit}。
```


<div id="reusable-components">
  ### 可复用组件
</div>

1. 在代码片段文件中，以箭头函数的形式导出组件，从而创建一个接收 props 的组件。

```mdx snippets/custom-component.mdx
export const MyComponent = ({ title }) => (
  <div>
    <h1>{title}</h1>
    <p>… 片段内容 …</p>
  </div>
);
```

<Warning>
  MDX 无法在箭头函数的函数体中编译。尽量使用 HTML 语法；如果确实需要使用 MDX，请改为默认导出。
</Warning>

2. 将该代码片段导入到目标文件中，并传入 props

```mdx 目标文件.mdx
---
title: 我的标题
description: 我的描述
---

import { MyComponent } from '/snippets/custom-component.mdx';

Lorem ipsum dolor sit amet.

<MyComponent title={'自定义标题'} />
```
