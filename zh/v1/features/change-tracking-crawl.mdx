---
title: '结合 Crawl 的变更追踪'
description: '跟踪整个网站的变更，包括新增、移除和隐藏的页面'
og:title: "Change Tracking with Crawl | Firecrawl"
sidebarTitle: "Change Tracking with Crawl"
og:description: "Track changes across your entire website, including new, removed, and hidden pages"
---

将变更追踪与爬取结合使用会更强大。对单页进行变更追踪可以看到内容变化，而结合爬取则可监控整个站点结构——显示新增页面、已移除页面，以及已变为隐藏的页面。

<div id="basic-usage">
  ## 基本用法
</div>

要在爬取过程中启用 changeTracking，请将其加入 `scrapeOptions` 的 `formats` 数组中：

```typescript
// JavaScript/TypeScript
const app = new FirecrawlApp({ apiKey: 'your-api-key' });
const result = await app.crawl('https://example.com', {
  scrapeOptions: {
    formats: ['markdown', 'changeTracking']
  }
});
```

```python
# Python
app = FirecrawlApp(api_key='your-api-key')
result = app.crawl('https://firecrawl.dev', {
    'scrapeOptions': {
        'formats': ['markdown', 'changeTracking']
    }
})
```

```json
{
  "success": true,
  "status": "completed",
  "completed": 2,
  "total": 2,
  "creditsUsed": 2,
  "expiresAt": "2025-04-14T18:44:13.000Z",
  "data": [
    {
      "markdown": "# 将网站转化为适配 LLM 的数据\n\n为你的 AI 应用提供来自任意网站的洁净数据……",
      "metadata": {},
      "changeTracking": {
        "previousScrapeAt": "2025-04-10T12:00:00Z",
        "changeStatus": "changed",
        "visibility": "visible"
      }
    },
    {
      "markdown": "## 灵活定价\n\n免费起步，随业务扩张而扩容……",
      "metadata": {},
      "changeTracking": {
        "previousScrapeAt": "2025-04-10T12:00:00Z",
        "changeStatus": "changed",
        "visibility": "visible"
      }
    }
  ]
}
```

<div id="understanding-change-status">
  ## 理解变更状态
</div>

当在 crawl 中启用 changeTracking 时，`changeStatus` 字段尤其有用：

* `new`：在你之前的 crawl 中不存在的页面
* `same`：已存在且自上次 crawl 以来未发生变化的页面
* `changed`：已存在但自上次 crawl 以来已被修改的页面
* `removed`：在你之前的 crawl 中存在但现在已无法找到的页面

<div id="page-visibility">
  ## 页面可见性
</div>

`visibility` 字段可帮助你了解页面的发现方式：

* `visible`：页面可通过链接或站点地图被发现
* `hidden`：页面仍然存在，但已不再被链接或包含在站点地图中

这在以下场景中特别有用：

* 检测孤立内容
* 查找被误从导航中移除的页面
* 监控站点结构变化
* 识别应重新建立链接或移除的内容

<div id="full-diff-support">
  ## 完整 Diff 支持
</div>

若要通过 diff 实现更细粒度的变更追踪，你可以使用与 [Scrape 变更追踪](/zh/features/change-tracking) 文档中所述相同的选项。