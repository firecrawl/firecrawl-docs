---
title: "Extract"
description: "使用 LLM 从页面提取结构化数据"
og:title: "Extract | Firecrawl"
og:description: "使用 LLM 从页面提取结构化数据"
icon: "barcode-read"
sidebarTitle: "Extract"
---

import ExtractCURL from "/snippets/zh/v1/extract/base/curl.mdx";
import ExtractPython from "/snippets/zh/v1/extract/base/python.mdx";
import ExtractNode from "/snippets/zh/v1/extract/base/js.mdx";
import ExtractOutput from "/snippets/zh/v1/extract/base/output.mdx";
import ExtractNoSchemaCURL from "/snippets/zh/v1/extract/no-schema/curl.mdx";
import ExtractNoSchemaPython from "/snippets/zh/v1/extract/no-schema/python.mdx";
import ExtractNoSchemaJS from "/snippets/zh/v1/extract/no-schema/js.mdx";
import ExtractNoSchemaOutput from "/snippets/zh/v1/extract/no-schema/output.mdx";
import ExtractWebSearchPython from "/snippets/zh/v1/extract/websearch/python.mdx";
import ExtractWebSearchJS from "/snippets/zh/v1/extract/websearch/js.mdx";
import ExtractWebSearchCURL from "/snippets/zh/v1/extract/websearch/curl.mdx";
import ExtractWebSearchOutput from "/snippets/zh/v1/extract/websearch/output.mdx";
import CheckExtractJobCURL from "/snippets/zh/v1/extract/status/curl.mdx";
import CheckExtractJobJS from "/snippets/zh/v1/extract/status/js.mdx";
import CheckExtractJobPython from "/snippets/zh/v1/extract/status/python.mdx";
import ExtractStatusPending from "/snippets/zh/v1/extract/status/pending.mdx";
import ExtractStatusAsync from "/snippets/zh/v1/extract/async-response/async.mdx";
import ExtractStatusDone from "/snippets/zh/v1/extract/status/completed.mdx";
import ExtractWithoutURLsPython from "/snippets/zh/v1/extract/without-urls/python.mdx";
import ExtractWithoutURLsJS from "/snippets/zh/v1/extract/without-urls/js.mdx";
import ExtractWithoutURLsCURL from "/snippets/zh/v1/extract/without-urls/curl.mdx";

`/extract` 端点让你更轻松地从任意数量的 URL 或整个域名收集结构化数据。提供一个 URL 列表（可选使用通配符，例如 `example.com/*`），并提供描述所需信息的提示词或 schema。Firecrawl 会负责爬取、解析并汇总大小规模的数据集。

<Info>Extract 的计费方式与其他端点不同。详见 [Extract 定价](https://www.firecrawl.dev/extract#pricing)。</Info>


<div id="using-extract">
  ## 使用 `/extract`
</div>

你可以从一个或多个 URL 提取结构化数据，并支持通配符：

- **单个页面**  
  示例：`https://firecrawl.dev/some-page`
- **多个页面 / 整个域**  
  示例：`https://firecrawl.dev/*`

当你使用 `/*` 时，Firecrawl 会自动爬取并解析该域内它可发现的所有 URL，然后提取所需的数据。此功能仍为实验性；如遇问题，请发送邮件至 [help@firecrawl.com](mailto:help@firecrawl.com)。

<div id="example-usage">
  ### 使用示例
</div>

<CodeGroup>

<ExtractPython />
<ExtractNode />
<ExtractCURL />

</CodeGroup>

**关键参数：**

- **urls**：一个或多个 URL 的数组。支持通配符（`/*`）以进行更广范围的抓取。
- **prompt**（可选，除非未提供 schema）：用于描述所需数据或说明数据期望结构的自然语言提示。
- **schema**（可选，除非未提供 prompt）：当已知 JSON 结构时使用的更严格结构定义。
- **enableWebSearch**（可选）：设为 `true` 时，抽取可跟随链接跳转到指定域名之外的页面。

更多详情参见 [API Reference](https://docs.firecrawl.dev/api-reference/endpoint/extract)。

<div id="response-sdks">
  ### 响应（SDK）
</div>

<ExtractOutput />

<div id="asynchronous-extraction-status-checking">
  ## 异步提取与状态检查
</div>

当你提交一个提取作业——无论是直接通过 API，还是通过 SDK 的异步方法——都会收到一个 Job ID。你可以使用该 ID 来：

- 检查作业状态：向 /extract/{ID} 端点发送请求，查看作业是否仍在运行或已完成。
- 自动轮询（SDK 默认行为）：如果你使用默认的 extract 方法（Python/Node），SDK 会自动轮询该端点，并在作业完成后返回最终结果。
- 手动轮询（异步 SDK 方法）：如果你使用异步方法——async_extract（Python）或 asyncExtract（Node）——SDK 会立即返回一个可跟踪的 Job ID。使用 get_extract_status（Python）或 getExtractStatus（Node）按你的节奏检查作业进度。

<Note>
  此端点仅对进行中或最近完成（24 小时内）的作业有效。
</Note>

下面是使用 Python、Node.js 和 cURL 检查提取作业状态的代码示例：

<CodeGroup>

<CheckExtractJobPython />
<CheckExtractJobJS />
<CheckExtractJobCURL />

</CodeGroup>

<div id="possible-states">
  ### 可能的状态
</div>

- **completed**: 提取已成功完成。
- **processing**: Firecrawl 仍在处理您的请求。
- **failed**: 发生错误；未完整提取数据。
- **cancelled**: 用户已取消该任务。

<div id="pending-example">
  #### 待定示例
</div>

<ExtractStatusPending />

<div id="completed-example">
  #### 完成示例
</div>

<ExtractStatusDone />

<div id="extracting-without-a-schema">
  ## 无需使用 Schema 的提取
</div>

如果你不想定义严格的结构，只需提供一个 `prompt`。底层模型会为你选择合适的结构，这对于偏探索性或更灵活的请求很有帮助。

<CodeGroup>

<ExtractNoSchemaPython />
<ExtractNoSchemaJS />
<ExtractNoSchemaCURL />

</CodeGroup>

<ExtractNoSchemaOutput />

<div id="improving-results-with-web-search">
  ## 通过网页搜索优化结果
</div>

在请求中将 `enableWebSearch = true`，会将抓取范围扩展到提供的 URL 集合之外，从链接页面获取补充或相关信息。

下面是一个示例：提取行车记录仪相关信息，并用关联页面的数据丰富结果：

<CodeGroup>

<ExtractWebSearchPython />
<ExtractWebSearchJS />
<ExtractWebSearchCURL />

</CodeGroup>

<div id="example-response-with-web-search">
  ### 含网页搜索的示例响应
</div>

<ExtractWebSearchOutput />

该响应包含从相关页面获取的额外上下文，因而信息更全面、更准确。

<div id="extracting-without-urls">
  ## 无需提供 URL 的提取
</div>

`/extract` 端点现已支持在无需指定 URL 的情况下，基于提示提取结构化数据。适用于调研或无法确定精确 URL 的场景。目前处于 Alpha 阶段。

<CodeGroup>

<ExtractWithoutURLsPython />
<ExtractWithoutURLsJS />
<ExtractWithoutURLsCURL />

</CodeGroup>

<div id="known-limitations-beta">
  ## 已知限制（测试版）
</div>

1. **大规模站点覆盖**  
   目前尚不支持在单个请求中完整覆盖超大型网站（例如“Amazon 上的所有商品”）。

2. **复杂逻辑查询**  
   像“查找 2025 年的所有帖子”这类请求可能无法稳定返回全部预期数据。更高级的查询能力正在开发中。

3. **偶发不一致**  
   结果在不同运行之间可能存在差异，尤其是在非常大型或动态的网站上。通常能捕获核心信息，但可能会有一定波动。

4. **测试版状态**  
   由于 `/extract` 仍处于测试版，功能和性能将持续迭代。欢迎提交缺陷报告和反馈，帮助我们改进。

<div id="using-fire-1">
  ## 使用 FIRE-1
</div>

FIRE-1 是一款 AI 代理，用于增强 Firecrawl 的抓取能力。它可以控制浏览器的 actions，并在复杂的网站结构中进行导航，从而实现超越传统抓取方式的全面数据提取。

对于需要跨多个页面导航或与页面元素交互的复杂提取任务，你可以通过 `/v1/extract` 端点使用 FIRE-1 代理。

**示例（cURL）：**

```bash
curl -X POST https://api.firecrawl.dev/v1/extract \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer YOUR_API_KEY' \
    -d '{
      "urls": ["https://example-forum.com/topic/123"],
      "prompt": "提取此论坛主题中的所有用户评论。",
      "schema": {
        "type": "object",
        "properties": {
          "comments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "author": {"type": "string"},
                "comment_text": {"type": "string"}
              },
              "required": ["author", "comment_text"]
            }
          }
        },
        "required": ["comments"]
      },
      "agent": {
        "model": "FIRE-1"
      }
    }'
```

> FIRE-1 已上线，现提供预览版。


<div id="billing-and-usage-tracking">
  ## 计费与用量追踪
</div>

你可以在 [Extract 落地页的定价部分](https://www.firecrawl.dev/extract#pricing) 查看 /extract 的价格，并通过仪表板上的 [Extract 页面](https://www.firecrawl.dev/app/extract) 监控用量。

有反馈或需要帮助？请发送邮件至 [help@firecrawl.com](mailto:help@firecrawl.com)。