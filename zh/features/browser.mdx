---
title: "浏览器沙盒"
description: "通过 agent-browser、API、CLI、SDK 与 MCP 启动浏览器沙盒会话，并远程执行 Python、JavaScript 或 bash。"
og:title: "浏览器 | Firecrawl"
og:description: "启动云端浏览器会话并远程执行代码。将 agent-browser CLI 与 bash 搭配使用，实现最简单的智能体集成方式。"
icon: "browser"
sidebarTitle: "浏览器沙盒"
---

import LaunchCURL from "/snippets/zh/v2/browser/launch/curl.mdx";
import LaunchJS from "/snippets/zh/v2/browser/launch/js.mdx";
import LaunchOutput from "/snippets/zh/v2/browser/launch/output.mdx";
import ExecuteCURL from "/snippets/zh/v2/browser/execute/curl.mdx";
import ExecuteCURLBash from "/snippets/zh/v2/browser/execute/curl-bash.mdx";
import ExecuteJS from "/snippets/zh/v2/browser/execute/js.mdx";
import ExecuteOutput from "/snippets/zh/v2/browser/execute/output.mdx";
import CloseCURL from "/snippets/zh/v2/browser/close/curl.mdx";
import CloseJS from "/snippets/zh/v2/browser/close/js.mdx";
import ListCURL from "/snippets/zh/v2/browser/list/curl.mdx";
import ListJS from "/snippets/zh/v2/browser/list/js.mdx";
import ListOutput from "/snippets/zh/v2/browser/list/output.mdx";
import QuickstartCURL from "/snippets/zh/v2/browser/quickstart/curl.mdx";
import QuickstartJS from "/snippets/zh/v2/browser/quickstart/js.mdx";
import PlaywrightJS from "/snippets/zh/v2/browser/playwright/js.mdx";
import PlaywrightPython from "/snippets/zh/v2/browser/playwright/python.mdx";
import QuickstartCLI from "/snippets/zh/v2/browser/quickstart/cli.mdx";
import LaunchCLI from "/snippets/zh/v2/browser/launch/cli.mdx";
import ExecuteCLI from "/snippets/zh/v2/browser/execute/cli.mdx";
import ListCLI from "/snippets/zh/v2/browser/list/cli.mdx";
import CloseCLI from "/snippets/zh/v2/browser/close/cli.mdx";
import QuickstartPython from "/snippets/zh/v2/browser/quickstart/python.mdx";
import LaunchPython from "/snippets/zh/v2/browser/launch/python.mdx";
import ExecutePython from "/snippets/zh/v2/browser/execute/python.mdx";
import ListPython from "/snippets/zh/v2/browser/list/python.mdx";
import ClosePython from "/snippets/zh/v2/browser/close/python.mdx";

Firecrawl Browser Sandbox 为你的智能体提供一个安全、全托管的浏览器运行环境。无需本地配置、无需安装 Chromium，也不存在驱动兼容性问题。每个会话都在隔离的一次性沙箱中运行，并且可以自动扩缩容，无需自行管理基础设施。

可通过 [API](/zh/api-reference/endpoint/browser-create)、[CLI](/zh/sdks/cli#browser)（Bash / agent-browser、Python、Node）、[Node SDK](/zh/sdks/node#browser)、[Python SDK](/zh/sdks/python#browser)、[Vercel AI SDK](/zh/developer-guides/llm-sdks-and-frameworks/vercel-ai-sdk) 和 [MCP Server](/zh/mcp-server) 使用。

要为 AI 代码智能体（Claude Code、Codex、Open Code、Cursor 等）添加浏览器支持，请安装 Firecrawl 技能：

```bash
npx skills add firecrawl/cli
```

你也可以手动安装 Firecrawl CLI，或者按照上面的步骤让 agent 替你安装：

```bash
npm install -g firecrawl-cli
```

<div id="quick-start">
  ## 快速开始
</div>

创建会话，执行代码，然后关闭会话：

<CodeGroup>
  <QuickstartJS />

  <QuickstartPython />

  <QuickstartCLI />

  <QuickstartCURL />
</CodeGroup>

* **无需安装驱动** - 无需 Chromium 二进制文件、无需执行 `playwright install`，也没有驱动兼容性问题
* **Python、JavaScript 与 Bash** - 通过 API、CLI 或 SDK 发送代码并获取结果。三种语言都会在远程沙盒中运行
* **agent-browser** - 预装的 CLI，内置 40+ 条命令。AI agent 只需编写简单的 Bash 命令，无需编写 Playwright 代码
* **CDP 访问** - 当你需要完全控制时，可通过 WebSocket 连接你自己的 Playwright 实例
* **实时视图** - 通过可嵌入的流式 URL 实时查看会话

<div id="launch-a-session">
  ## 启动一个会话
</div>

返回会话 ID、CDP URL 和实时视图 URL。

<CodeGroup>
  <LaunchJS />

  <LaunchPython />

  <LaunchCLI />

  <LaunchCURL />
</CodeGroup>

<LaunchOutput />

<div id="execute-code">
  ## 执行代码
</div>

<CodeGroup>
  <ExecuteJS />

  <ExecutePython />

  <ExecuteCLI />

  <ExecuteCURL />
</CodeGroup>

<ExecuteOutput />

<div id="agent-browser-bash-mode">
  ## agent-browser（Bash 模式）
</div>

[agent-browser](https://github.com/vercel-labs/agent-browser) 是一个无头浏览器 CLI，已预装在每个沙箱中。智能体无需编写 Playwright 代码，只需发送简单的 bash 命令。CLI 会自动注入 `--cdp`，使 agent-browser 自动连接到你的当前会话。

<div id="shorthand">
  ### 简写
</div>

这是使用 browser 的最快方式。简写和 `execute` 都会自动将命令发送给 agent-browser。简写只是跳过了 `execute`，并在需要时自动启动会话：

```bash
firecrawl browser "open https://example.com"
firecrawl browser "snapshot"
firecrawl browser "click @e5"
```

<div id="cli">
  ### CLI
</div>

显式用法使用 `execute` 命令。命令会自动发送到 agent-browser —— 无需手动输入 `agent-browser` 或使用 `--bash`：

<CodeGroup>
  ```bash 导航 & 快照
  firecrawl browser execute "open https://example.com"
  firecrawl browser execute "snapshot"
  ```

  ```bash 交互
  firecrawl browser execute "click @e5"
  firecrawl browser execute "fill @e3 'search query'"
  firecrawl browser execute "scrape"
  ```
</CodeGroup>

<div id="api-sdk">
  ### API 与 SDK
</div>

使用 `language: "bash"`，通过 API 或 SDK 执行 agent-browser 命令：

<CodeGroup>
  ```bash cURL
  curl -X POST "https://api.firecrawl.dev/v2/browser/YOUR_SESSION_ID/execute" \
    -H "Authorization: Bearer $FIRECRAWL_API_KEY" \
    -H "Content-Type: application/json" \
    -d '{
      "code": "agent-browser snapshot",
      "language": "bash"
    }'
  ```

  ```javascript Node
  const result = await app.browserExecute(sessionId, {
    code: "agent-browser snapshot",
    language: "bash",
  });
  ```

  ```python Python
  result = app.browser_execute(
      session_id,
      code="agent-browser snapshot",
      language="bash",
  )
  ```
</CodeGroup>

<div id="session-management">
  ## 会话管理
</div>

<div id="list-sessions">
  ### 列出会话
</div>

<CodeGroup>
  <ListJS />

  <ListPython />

  <ListCLI />

  <ListCURL />
</CodeGroup>

<ListOutput />

<div id="ttl-configuration">
  ### TTL 配置
</div>

会话有两个 TTL 参数：

| 参数 | 默认值 | 描述 |
|-----------|---------|-------------|
| `ttl` | 300s（5 分钟） | 会话的最长存续时间（30-3600s） |
| `activityTtl` | 60s | 会话空闲达到该时长后自动关闭（10-3600s） |

<div id="close-a-session">
  ### 结束会话
</div>

<CodeGroup>
  <CloseJS />

  <ClosePython />

  <CloseCLI />

  <CloseCURL />
</CodeGroup>

<div id="live-view">
  ## 实时视图
</div>

每个会话的响应中都会包含一个 `liveViewUrl`，你可以将其嵌入以实时查看浏览器行为。适用于调试、演示或构建由浏览器驱动的 UI。

```json Response
{
  "success": true,
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "cdpUrl": "wss://cdp-proxy.firecrawl.dev/cdp/550e8400-...",
  "liveViewUrl": "https://liveview.firecrawl.dev/550e8400-..."
}
```

```html
<iframe src="LIVE_VIEW_URL" width="100%" height="600" />
```

<div id="connecting-via-cdp">
  ## 通过 CDP 连接
</div>

每个会话都会暴露一个 CDP WebSocket URL。execute API 和 `--bash` 参数覆盖了大多数用例，但如果你需要完全的本地控制，可以直接进行连接。

<CodeGroup>
  <PlaywrightJS />

  <PlaywrightPython />

  ```bash agent-browser
  # 使用会话响应中的 cdpUrl
  agent-browser open https://example.com --cdp "$CDP_URL"
  agent-browser snapshot --cdp "$CDP_URL"
  ```
</CodeGroup>

<div id="when-to-use-browser">
  ## 何时使用 Browser
</div>

| 使用场景 | 合适工具 |
|----------|-----------|
| 从已知 URL 提取内容 | [Scrape](/zh/features/scrape) |
| 在网上搜索并获取结果 | [Search](/zh/features/search) |
| 执行分页导航、填写表单、点击操作 | **Browser** |
| 包含交互的多步工作流 | **Browser** |
| 在多个网站上并行浏览 | **Browser**（每个会话彼此隔离） |

<div id="use-cases">
  ## 使用场景
</div>

* **竞争情报** - 浏览竞争对手网站，操作搜索表单和筛选器，将价格和功能信息提取为结构化数据
* **知识库接入** - 浏览需要点击操作、分页或登录认证的帮助中心、文档和支持门户
* **市场调研** - 启动并行浏览器会话，从招聘网站、房产列表或法律数据库中构建数据集

<div id="pricing">
  ## 价格
</div>

计费简单明了：每个浏览器使用小时 100 个积分。免费用户可享有 5 小时的免费使用额度。

<div id="rate-limits">
  ## 速率限制
</div>

在初始发布阶段，所有套餐均支持最多 20 个并发浏览器会话。

<div id="api-reference">
  ## API 参考文档
</div>

* [创建浏览器会话](/zh/api-reference/endpoint/browser-create)
* [执行浏览器代码](/zh/api-reference/endpoint/browser-execute)
* [列出浏览器会话](/zh/api-reference/endpoint/browser-list)
* [删除浏览器会话](/zh/api-reference/endpoint/browser-delete)

***

有反馈或需要帮助？请发送邮件至 [help@firecrawl.com](mailto:help@firecrawl.com) 或在 [Discord](https://discord.gg/gSmWdAkdwd) 上联系我们。