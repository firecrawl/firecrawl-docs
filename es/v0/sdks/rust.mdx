---
title: 'Rust'
description: 'El SDK de Rust de Firecrawl es una biblioteca que te ayuda a extraer y rastrear sitios web fácilmente y a generar datos en un formato listo para usar con modelos de lenguaje (LLMs).'
icon: 'rust'
og:title: "Rust SDK | Firecrawl"
og:description: "El SDK de Rust de Firecrawl es una biblioteca que te ayuda a extraer y rastrear sitios web fácilmente y a generar datos en un formato listo para usar con modelos de lenguaje (LLMs)."
---

> Nota: esto usa la [versión v0 de la API de Firecrawl](/es/v0/introduction), que está en proceso de desuso. Recomendamos cambiar a [v1](/es/sdks/rust).

<div id="installation">
  ## Instalación
</div>

Para instalar el SDK de Rust de Firecrawl, añade lo siguiente a tu `Cargo.toml`:

```toml
[dependencias]
firecrawl = "^0.1"
tokio = { version = "^1", features = ["full"] }
serde = { version = "^1.0", features = ["derive"] }
serde_json = "^1.0"
uuid = { version = "^1.10", features = ["v4"] }

[dependencias_de_compilación]
tokio = { version = "1", features = ["full"] }
```

<div id="usage">
  ## Uso
</div>

1. Obtén una clave de API en [firecrawl.dev](https://firecrawl.dev)
2. Configura la clave de API como una variable de entorno llamada `FIRECRAWL_API_KEY` o pásala como parámetro a la struct `FirecrawlApp`.

Aquí tienes un ejemplo de cómo usar el SDK en Rust:

```rust
use firecrawl::FirecrawlApp;

#[tokio::main]
async fn main() {
  let api_key = "YOUR_API_KEY";
  let api_url = "https://api.firecrawl.dev";
  let app = FirecrawlApp::new(api_key, api_url).expect("Error al inicializar FirecrawlApp");

  // Extraer una sola URL
  let scrape_result = app.scrape_url("https://docs.firecrawl.dev", None).await;
  match scrape_result {
    Ok(data) => println!("Datos extraídos:", data),
    Err(e) => eprintln!("Error durante la extracción:", e),
  }
  // Rastreo de un sitio web
  let crawl_params = json!({
    "pageOptions": {
      "onlyMainContent": true
    }
  });

  let crawl_result = app.crawl_url("https://docs.firecrawl.dev", Some(crawl_params)).await;
  
  match crawl_result {
    Ok(data) => println!("Resultado del rastreo:", data),
    Err(e) => eprintln!("Error durante el rastreo:", e),
  }
}
```

<div id="scraping-a-url">
  ### Extracción de una URL
</div>

Para extraer una única URL con manejo de errores, usa el método `scrape_url`. Recibe la URL como parámetro y devuelve los datos extraídos como un `serde_json::Value`.

```rust
let scrape_result = app.scrape_url("https://docs.firecrawl.dev", None).await;

match scrape_result {
  Ok(data) => println!("Datos extraídos: {}", data),
  Err(e) => eprintln!("No se pudo extraer la URL: {}", e),
}
```

<div id="crawling-a-website">
  ### Rastreo de un sitio web
</div>

Para rastrear un sitio web, utiliza el método `crawl_url`. Recibe la URL inicial y parámetros opcionales como argumentos. El argumento `params` te permite especificar opciones adicionales para la tarea de rastreo, como el número máximo de páginas a rastrear, los dominios permitidos y el formato de salida.

```rust
let crawl_params = json!({
  "crawlerOptions": {
    "excludes": ["blog/"],
    "includes": [], // dejar vacío para incluir todas las páginas
    "limit": 1000
  },
  "pageOptions": {
    "onlyMainContent": true
  }
});
let crawl_result = app.crawl_url("https://docs.firecrawl.dev", Some(crawl_params)).await;

match crawl_result {
  Ok(data) => println!("Resultado del rastreo: {}", data),
  Err(e) => eprintln!("Error al rastrear la URL: {}", e),
}
```

<div id="checking-crawl-status">
  ### Comprobar el estado del rastreo
</div>

Para comprobar el estado de un trabajo de rastreo, usa el método `check_crawl_status`. Recibe el ID del trabajo como parámetro y devuelve el estado actual del rastreo.

```rust
let job_id = "tu_id_de_tarea_aquí";
let status = app.check_crawl_status(job_id).await;

match status {
  Ok(data) => println!("Estado del rastreo: {}", data),
  Err(e) => eprintln!("Error al verificar el estado del rastreo: {}", e),
}
```

<div id="canceling-a-crawl-job">
  ### Cancelar un trabajo de rastreo
</div>

Para cancelar un trabajo de rastreo, usa el método `cancel_crawl_job`. Recibe el ID del trabajo como parámetro y devuelve el estado de la cancelación del trabajo de rastreo.

```rust
let job_id = "tu_id_de_trabajo_aquí";
let canceled = app.cancel_crawl_job(job_id).await;

match canceled {
  Ok(status) => println!("Estado de la cancelación: {}", status),
  Err(e) => eprintln!("No se pudo cancelar el trabajo de rastreo: {}", e),
}
```

<div id="extracting-structured-data-from-a-url">
  ### Extracción de datos estructurados de una URL
</div>

Con la extracción con LLM, puedes obtener fácilmente datos estructurados de cualquier URL. Aquí te mostramos cómo usarla:

```rust
let json_schema = json!({
  "type": "object",
  "properties": {
    "top": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
        "title": {"type": "string"},
        "points": {"type": "number"},
        "by": {"type": "string"},
        "commentsURL": {"type": "string"}
      },
      "required": ["title", "points", "by", "commentsURL"]
      },
      "minItems": 5,
      "maxItems": 5,
      "description": "Las 5 principales noticias en Hacker News"
    }
  },
  "required": ["top"]
});

let llm_extraction_params = json!({
  "extractorOptions": {
    "extractionSchema": json_schema
  }
});

let scrape_result = app.scrape_url("https://news.ycombinator.com", Some(llm_extraction_params)).await;

match scrape_result {
  Ok(data) => println!("Resultado de la extracción con LLM: {}", data),
  Err(e) => eprintln!("No se pudo realizar la extracción con LLM: {}", e),
}
```

<div id="search-for-a-query">
  ### Buscar una consulta
</div>

Para buscar en la web, obtener los resultados más relevantes, hacer scraping de cada página y devolver el contenido en markdown, usa el método `search`. Este método recibe la consulta como parámetro y devuelve los resultados de la búsqueda.

```rust
let query = "¿Qué es Firecrawl?";
let search_result = app.search(query).await;

match search_result {
  Ok(data) => println!("Resultado de búsqueda: {}", data),
  Err(e) => eprintln!("No se pudo realizar la búsqueda: {}", e),
}
```

<div id="error-handling">
  ## Gestión de errores
</div>

El SDK maneja los errores devueltos por la API de Firecrawl y arroja las excepciones correspondientes. Si se produce un error durante una solicitud, se lanzará una excepción con un mensaje de error descriptivo.