---
title: 'Extracción con LLM'
description: 'Extrae datos estructurados de páginas mediante LLM'
icon: 'file-export'
og:title: "Extracción | Firecrawl"
og:description: "Extrae datos estructurados de páginas mediante LLM"
---

<div id="scrape-and-extract-structured-data-with-firecrawl">
  ## Extrae y estructura datos con Firecrawl
</div>

Firecrawl aprovecha modelos de lenguaje grandes (LLMs) para extraer datos estructurados de páginas web de forma eficiente. Así:

1. **Definición del esquema:**
   Define la URL a procesar y el esquema de datos deseado usando JSON Schema (siguiendo el esquema de herramientas de OpenAI). Este esquema especifica la estructura de datos que esperas extraer de la página.

2. **Punto de conexión /scrape:**
   Pasa la URL y el esquema al punto de conexión /scrape. La documentación de este punto de conexión está aquí:
   [Documentación del punto de conexión /scrape](https://docs.firecrawl.dev/api-reference/endpoint/scrape)

3. **Obtención de datos estructurados:**
   Recibe los datos extraídos en el formato estructurado definido por tu esquema. Luego puedes usar estos datos en tu aplicación o para un procesamiento posterior.

Este método agiliza la extracción de datos, reduce el manejo manual y mejora la eficiencia.

<div id="extract-structured-data">
  ## Extrae datos estructurados
</div>

<div id="scrape-with-extract-endpoint">
  ### punto de conexión /scrape (con extract)
</div>

Se usa para extraer datos estructurados de páginas raspadas.

```bash
curl -X POST https://api.firecrawl.dev/v0/scrape \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer TU_CLAVE_API' \
    -d '{
      "url": "https://docs.firecrawl.dev/",
      "extractorOptions": {
        "mode": "llm-extraction",
        "extractionPrompt": "Con base en la información de la página, extrae los datos según el esquema. ",
        "extractionSchema": {
          "type": "object",
          "properties": {
            "company_mission": {
                      "type": "string"
            },
            "supports_sso": {
                      "type": "boolean"
            },
            "is_open_source": {
                      "type": "boolean"
            },
            "is_in_yc": {
                      "type": "boolean"
            }
          },
          "required": [
            "company_mission",
            "supports_sso",
            "is_open_source",
            "is_in_yc"
          ]
        }
      }
    }'
```

```json
{
    "success": true,
    "data": {
      "content": "Contenido sin procesar",
      "metadata": {
        "title": "Mendable",
        "description": "Mendable te permite crear fácilmente aplicaciones de chat con IA. Ingresa, personaliza y luego impleméntalas con una sola línea de código, donde quieras. Presentado por SideGuide",
        "robots": "follow, index",
        "ogTitle": "Mendable",
        "ogDescription": "Mendable te permite crear fácilmente aplicaciones de chat con IA. Ingresa, personaliza y luego impleméntalas con una sola línea de código, donde quieras. Presentado por SideGuide",
        "ogUrl": "https://docs.firecrawl.dev/",
        "ogImage": "https://docs.firecrawl.dev/mendable_new_og1.png",
        "ogLocaleAlternate": [],
        "ogSiteName": "Mendable",
        "sourceURL": "https://docs.firecrawl.dev/"
      },
      "llm_extraction": {
        "company_mission": "Entrena una IA segura con tus recursos técnicos que responda preguntas de clientes y empleados para que tu equipo no tenga que hacerlo"
        "supports_sso": true,
        "is_open_source": false,
        "is_in_yc": true
      }
    }
}

```

<div id="using-python-sdk">
  ### Uso del SDK de Python
</div>

```python
from firecrawl import FirecrawlApp

# Inicializa FirecrawlApp con tu clave de API
app = FirecrawlApp(api_key='your_api_key', version='v0')

class ArticleSchema(BaseModel):
    title: str
    points: int 
    by: str
    commentsURL: str

class TopArticlesSchema(BaseModel):
    top: List[ArticleSchema] = Field(..., max_items=5, description="5 historias destacadas")

data = app.scrape_url('https://news.ycombinator.com', {
    'extractorOptions': {
        'extractionSchema': TopArticlesSchema.model_json_schema(),
        'mode': 'llm-extraction'
    },
    'pageOptions':{
        'onlyMainContent': True
    }
})
print(data["llm_extraction"])
```

<div id="with-javascript-sdk">
  ### Con el SDK de JavaScript
</div>

```js
import FirecrawlApp from "@mendable/firecrawl-js";
import { z } from "zod";

const app = new FirecrawlApp({
  apiKey: "fc-TU_API_KEY",
  version: "v0"
});

// Define un esquema para extraer el contenido
const schema = z.object({
  top: z
    .array(
      z.object({
        title: z.string(),
        points: z.number(),
        by: z.string(),
        commentsURL: z.string(),
      })
    )
    .length(5)
    .describe("Las 5 principales noticias de Hacker News"),
});

const scrapeResult = await app.scrapeUrl("https://news.ycombinator.com", {
  extractorOptions: { extractionSchema: schema },
});

console.log(scrapeResult.data["llm_extraction"]);
```

<div id="with-go-sdk">
  ### Con el SDK de Go
</div>

```go Go
import (
  "fmt"
  "log"

  "github.com/firecrawl/firecrawl-go"
)

func main() {
  app, err := firecrawl.NewFirecrawlApp("YOUR_API_KEY")
  if err != nil {
      log.Fatalf("Error al inicializar FirecrawlApp: %v", err)
  }

  jsonSchema := map[string]any{
    "type": "object",
    "properties": map[string]any{
      "top": map[string]any{
        "type": "array",
        "items": map[string]any{
          "type": "object",
          "properties": map[string]any{
            "title":       map[string]string{"type": "string"},
            "points":      map[string]string{"type": "number"},
            "by":          map[string]string{"type": "string"},
            "commentsURL": map[string]string{"type": "string"},
          },
          "required": []string{"title", "points", "by", "commentsURL"},
        },
        "minItems":    5,
        "maxItems":    5,
        "description": "Las 5 noticias principales de Hacker News",
      },
    },
    "required": []string{"top"},
  }

  llmExtractionParams := map[string]any{
    "extractorOptions": firecrawl.ExtractorOptions{
      ExtractionSchema: jsonSchema,
    },
  }

  scrapeResult, err := app.ScrapeURL("https://news.ycombinator.com", llmExtractionParams)
  if err != nil {
    log.Fatalf("Error al realizar la extracción con LLM: %v", err)
  }
  fmt.Println(scrapeResult)
}
```

<div id="with-rust-sdk">
  ### Con el SDK de Rust
</div>

```rust Rust
use firecrawl::FirecrawlApp;

#[tokio::main]
async fn main() {
    // Inicializa FirecrawlApp con la clave de la API
    let api_key = "YOUR_API_KEY";
    let api_url = "https://api.firecrawl.dev";
    let app = FirecrawlApp::new(api_key, api_url).expect("No se pudo inicializar FirecrawlApp");

    // Define el esquema para extraer el contenido
    let json_schema = json!({
        "type": "object",
        "properties": {
            "top": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "title": {"type": "string"},
                        "points": {"type": "number"},
                        "by": {"type": "string"},
                        "commentsURL": {"type": "string"}
                    },
                    "required": ["title", "points", "by", "commentsURL"]
                },
                "minItems": 5,
                "maxItems": 5,
                "description": "Top 5 noticias en Hacker News"
            }
        },
        "required": ["top"]
    });

    let llm_extraction_params = json!({
        "extractorOptions": {
            "extractionSchema": json_schema,
            "mode": "llm-extraction"
        },
        "pageOptions": {
            "onlyMainContent": true
        }
    });

    let llm_extraction_result = app
        .scrape_url("https://news.ycombinator.com", Some(llm_extraction_params))
        .await;
    match llm_extraction_result {
        Ok(data) => println!("Resultado de la extracción con LLM:\n{}", data["llm_extraction"]),
        Err(e) => eprintln!("Error en la extracción con LLM: {}", e),
    }
}
```
